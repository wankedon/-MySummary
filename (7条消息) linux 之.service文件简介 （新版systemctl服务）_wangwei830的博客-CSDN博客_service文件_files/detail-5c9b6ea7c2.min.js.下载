function setCopyBtn(){$(".CopyToClipboard").each(function(){var t=new ZeroClipboard.Client;t.setHandCursor(!0),t.addEventListener("load",function(t){}),t.addEventListener("mouseOver",function(t){var e=t.movie.parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.innerHTML;e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),t.setText(e)}),t.addEventListener("complete",function(t,e){alert("代码已经复制到你的剪贴板。")}),t.glue(this,this.parentNode)})}function computePos(){"object"==typeof toolBar&&(toolBar.setPosX(),toolBar.computePositon())}function getRecommendListUrl(){return null!==getRecommendListUrlArr?getRecommendListUrlArr:(getRecommendListUrlArr=[[],[]],$(".recommend-box div.recommend-item-box").each(function(t,e){if($(e).data("url")){var o=$(e).data("url").toLowerCase().split("://"),n=$(e).data("url").toLowerCase().split("article/details/");getRecommendListUrlArr[0].push(2==o.length?o[1]:o[0]),getRecommendListUrlArr[1].push(2==n.length?"article/details/"+n[1]:n[0])}}),getRecommendListUrlArr)}function baidudatatemp(t,e,o,n){var i="blog",a='<span class="type"><img src="'+blogStaticHost+'dist/components/img/blogType.png" alt=""><span class="tip">博客</span></span>';t.linkUrl.indexOf("download.csdn.net")>-1?(i="download",a='<span class="type"><img src="'+blogStaticHost+'dist/components/img/downloadType.png" alt=""><span class="tip">下载</span></span>'):t.linkUrl.indexOf("edu.csdn.net")>-1&&(i="edu",a='<span class="type"><img src="'+blogStaticHost+'dist/components/img/eduType.png" alt=""><span class="tip">课程</span></span>');var s=highlight.map(function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")});10==setBaiduJsCount&&(a=""),s="("+s.join("|")+")";var c=new RegExp(s,"gi"),l=/<[^>]*>/g,r=t["abstract"].replace(l,"").replace(c,"<em>$1</em>"),d=t.dispTime.replace(/^(\d*)-/,""),m=t.linkUrl,p=t.title.replace(l,"").replace(c,"<em>$1</em>"),u=m.split("?")[0].split("/").splice(-1)[0],h='"extra":"{\\"utm_medium\\":\\"distribute.'+baiduSearchChannel+".none-task-"+i+"-2~default~baidujs_"+baiduSearchType+"~default-"+e+"-"+u+"-blog-"+articleId+baiduSearchIdentification+'\\",\\"dist_request_id\\":\\"'+distRequestId+'\\",\\"parent_index\\":\\"'+o+'\\"}",',g='<div class="recommend-item-box baiduSearch clearfix" data-type="'+i+'" data-report-view=\'{"mod":"popu_387",'+h+'"spm":"1001.2101.3001.4242.'+n+'","dest":"'+m+'","strategy":"2~default~baidujs_'+baiduSearchType+'~default","ab":"new","index":"'+e+'"}\'>\t                <div class="content-box">\t\t                <div class="content-blog display-flex">\t\t\t                  <div class="title-box">'+a+'\t\t\t\t                  <a class="tit" href="'+m+'" target="_blank" data-report-click=\'{"mod":"popu_387",'+h+'"spm":"1001.2101.3001.4242.'+n+'","dest":"'+m+'","strategy":"2~default~baidujs_'+baiduSearchType+'~default","ab":"new","index":"'+e+'"}\' data-report-query="utm_medium=distribute.'+baiduSearchChannel+".none-task-"+i+"-2~default~baidujs_"+baiduSearchType+"~default-"+e+"-"+u+"-blog-"+articleId+baiduSearchIdentification+"&spm=1001.2101.3001.4242."+n+'">\t\t\t\t\t                <div class="left ellipsis-online ellipsis-online-1">'+p+'</div>\t\t\t\t                  </a>\t\t\t                  </div>                    <div class="info-box display-flex">                      <div class="info display-flex">                        <span class="info-block">'+d+'</span>                      </div>                    </div>                  </div>                  <div class="desc-box">                    <a href="'+m+'" target="_blank" data-report-click=\'{"mod":"popu_387",'+h+'"spm":"1001.2101.3001.4242.'+n+'","dest":"'+m+'","strategy":"2~default~baidujs_'+baiduSearchType+'~default","ab":"new","index":"'+e+'"}\' data-report-query="utm_medium=distribute.'+baiduSearchChannel+".none-task-"+i+"-2~default~baidujs_"+baiduSearchType+"~default-"+e+"-"+u+"-blog-"+articleId+baiduSearchIdentification+"&spm=1001.2101.3001.4242."+n+'">                      <div class="desc ellipsis-online ellipsis-online-1">'+r+"</div>                    </a>                  </div>                </div>              </div>";return g}function showDownRecommend(t){var e=highlight.map(function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")});e="("+e.join("|")+")";var o=new RegExp(e,"gi"),n=/<[^>]*>/g,i=t.linkUrl,a=t.title.replace(n,"").replace(o,"<em>$1</em>"),s='<div class="recommend_down">  相关资源：<a class="recommend_down_link" href="'+i+'?spm=1001.2101.3001.5697" target="_blank" data-report-view=\'{"mod":"1612247418_001","spm":"1001.2101.3001.5697","dest":"'+i+'","extend1":"pc"}\' data-report-click=\'{"mod":"1612247418_001","spm":"1001.2101.3001.5697","dest":"'+i+'","extend1":"pc"}\'>'+a+"</a>  </div>";$("#recommendDown").html(s)}function showResult(t,e){var o=[],n=recommendRegularDomainArr||["blog.csdn.net/.+/article/details/","download.csdn.net/download/","edu.csdn.net/course/detail/"],i=new RegExp(n.join("|"));if(!t||t.length<=0)return!1;if(t&&t.length>0){for(var a=0;a<t.length;a++)t[a].noRepeatTit=t[a].title.split("_")[0].replace(/[`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、<em><\/em>&quot;]/g,"").replace(/\s/g,"").toLowerCase();for(var a=0;a<t.length;a++)for(var s=a+1;s<t.length;s++)t[a].noRepeatTit==t[s].noRepeatTit&&(t.splice(s,1),s--)}if(t&&t.length>0)for(var c=[],a=0;a<t.length;a++)if(t[a].linkUrl.split("?")[0].toLowerCase().indexOf(curentUrl.split("://")[2==curentUrl.split("://").length?1:0].toLowerCase())===-1&&i.test(t[a].linkUrl)&&""!==t[a].title){var l=t[a].linkUrl.split("?")[0].split("//"),r=2==l.length?l[1]:l[0],d="";r=r.replace(/\/$/,"");var m=t[a].linkUrl.split("?")[0].replace("/",""),p=t[a].title.split("_")[0].replace(/[`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、<em><\/em>&quot;]/g,"").replace(/\s/g,"").toLowerCase();if(2==r.split("article/details/").length){var u=r.split("article/details/")[1];u.replace("/",""),d=u,u&&c.length>0&&c.indexOf(u)===-1&&(c.push(u),m="article/details/"+u)}$.inArray(r.toLowerCase(),getRecommendListUrl()[0])==-1&&$.inArray(m.toLowerCase(),getRecommendListUrl()[1])==-1&&$.inArray(d,getRecommendListUrl()[1])==-1&&a<10&&p!==articleTitleContent&&e!==t[a].linkUrl&&o.push(t[a])}var h=$(".insert-baidu-box").children().not("script").not("dl"),g="",f=0,v=0,w=1;o=o.slice(0,setBaiduJsCount),(!baiduCount||baiduCount<=0)&&(baiduCount=2);for(var a=isBaiduPre?0:baiduCount;a<h.length;a+=baiduCount){for(var s=a;s<a+baiduCount;s++)if(isBaiduPre?o[s]:o[s-baiduCount]){var b=isBaiduPre?2*baiduCount*v-1>0?2*baiduCount*v:0:2*baiduCount*v+baiduCount,x=$(".insert-baidu-box .recommend-item-box").eq(b),y=0;$(x).children().length&&$(x).find("a.tit").attr("data-report-click")&&(y=JSON.parse($(x).find("a.tit").attr("data-report-click")).index),g+=baidudatatemp(isBaiduPre?o[s]:o[s-baiduCount],isBaiduPre?a+s:s+v*baiduCount,y,w),w+=1}$(h[a]).length&&($(h[a]).after(g),v+=1),g="",f=v*baiduCount}if(f<o.length){var C=(isBaiduPre?2*v-1:2*v)*baiduCount+(h.length-1)%baiduCount;if(h.length&&$(h[h.length-1]).find("a.tit")&&$(h[h.length-1]).find("a.tit").attr("data-report-click"))var y=JSON.parse($(h[h.length-1]).find("a.tit").attr("data-report-click")).index;else var y=0;for(var a=f;a<o.length;a++)$(".insert-baidu-box").append(baidudatatemp(o[a],C,y,w)),w+=1,C+=1,f+=1}}function getQueryIdx(){var t=$("div[class^='recommend-item-box type_'],div.recommend-item-box.baiduSearch");$(t).each(function(t,e){var o=$(e).find("a"),n=o.attr("data-report-query");n+="&utm_relevant_index="+(t+1),o.attr("data-report-query",n)})}var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"https://csdnimg.cn/public/highlighter/ZeroClipboard.swf",nextId:1,$:function(t){return"string"==typeof t&&(t=document.getElementById(t)),t.hide=function(){this.style.display="none"},t.show=function(){this.style.display="block"},t.addClass=function(t){this.removeClass(t),this.className+=" "+t},t.removeClass=function(t){for(var e=this.className.split(/\s+/),o=-1,n=0;n<e.length;n++)e[n]==t&&(o=n,n=e.length);return o>-1&&(e.splice(o,1),this.className=e.join(" ")),this},t.hasClass=function(t){return!!this.className.match(new RegExp("\\s*"+t+"\\s*"))},t},setMoviePath:function(t){this.moviePath=t},dispatch:function(t,e,o){var n=this.clients[t];n&&n.receiveEvent(e,o)},register:function(t,e){this.clients[t]=e},getDOMObjectPosition:function(t,e){for(var o={left:0,top:0,width:t.width?t.width:t.offsetWidth,height:t.height?t.height:t.offsetHeight};t&&t!=e;)o.left+=t.offsetLeft,o.top+=t.offsetTop,t=t.offsetParent;return o},Client:function(t){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),t&&this.glue(t)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(t,e,o){this.domElement=ZeroClipboard.$(t);var n=99;this.domElement.style.zIndex&&(n=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof e?e=ZeroClipboard.$(e):"undefined"==typeof e&&(e=document.getElementsByTagName("body")[0]);var i=ZeroClipboard.getDOMObjectPosition(this.domElement,e);this.div=document.createElement("div");var a=this.div.style;if(a.position="absolute",a.left=""+i.left+"px",a.top=""+i.top+"px",a.width=""+i.width+"px",a.height=""+i.height+"px",a.zIndex=n,"object"==typeof o)for(addedStyle in o)a[addedStyle]=o[addedStyle];e.appendChild(this.div),this.div.innerHTML=this.getHTML(i.width,i.height)},getHTML:function(t,e){var o="",n="id="+this.id+"&width="+t+"&height="+e;if(navigator.userAgent.match(/MSIE/)){var i=location.href.match(/^https/i)?"https://":"http://";o+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+i+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+t+'" height="'+e+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+n+'"/><param name="wmode" value="transparent"/></object>'}else o+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+t+'" height="'+e+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+n+'" wmode="transparent" />';return o},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var t=document.getElementsByTagName("body")[0];try{t.removeChild(this.div)}catch(e){}this.domElement=null,this.div=null}},reposition:function(t){if(t&&(this.domElement=ZeroClipboard.$(t),this.domElement||this.hide()),this.domElement&&this.div){var e=ZeroClipboard.getDOMObjectPosition(this.domElement),o=this.div.style;o.left=""+e.left+"px",o.top=""+e.top+"px"}},setText:function(t){this.clipText=t,this.ready&&this.movie.setText(t)},addEventListener:function(t,e){t=t.toString().toLowerCase().replace(/^on/,""),this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)},setHandCursor:function(t){this.handCursorEnabled=t,this.ready&&this.movie.setHandCursor(t)},setCSSEffects:function(t){this.cssEffects=!!t},receiveEvent:function(t,e){switch(t=t.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var o=this;return void setTimeout(function(){o.receiveEvent("load",null)},1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var o=this;return setTimeout(function(){o.receiveEvent("load",null)},100),void(this.ready=!0)}this.ready=!0,this.movie.setText(this.clipText),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[t])for(var n=0,i=this.handlers[t].length;n<i;n++){var a=this.handlers[t][n];"function"==typeof a?a(this,e):"object"==typeof a&&2==a.length?a[0][a[1]](this,e):"string"==typeof a&&window[a](this,e)}}},$(document).ready(function(){$(".article_content pre").each(function(){var t=$(this);if(void 0!=t.attr("class")){if(t.attr("class").indexOf("brush:")!=-1){var e=t.attr("class").split(";")[0].split(":")[1];t.attr("name","code"),t.attr("class",e)}t.attr("class")&&t.attr("name","code")}}),$(".article_content textarea[name=code]").each(function(){var t=$(this);t.attr("class").indexOf(":")!=-1&&t.attr("class",t.attr("class").split(":")[0])}),window.clipboardData||setTimeout("setCopyBtn()",500)}),function(t){function e(t,e){var o=e-t+1;return Math.floor(Math.random()*o+t)}t.fn.extend({selection:function(){var e="",o=this[0];if(document.selection){var n=document.selection.createRange();e=n.text}else if("number"==typeof o.selectionStart){var i=o.selectionStart,a=o.selectionEnd;i!=a&&(e=o.value.substring(i,a))}return t.trim(e)},parseHtml:function(e){var o=this[0],n=t(this).val();if(document.selection){var i=document.selection.createRange();i.text?i.text=e:t(this).val(n+e)}else if("number"==typeof o.selectionStart){var a=o.selectionStart,s=o.selectionEnd,c=n.substring(0,a),l=n.substring(s);t(this).val(c+e+l)}else t(this).val(n+e);o.selectionStart=o.selectionEnd=t(this).val().length,o.focus()}});var o=t("div.pulllog-box");o.find("button.btn-close").click(function(){o.remove()}),o.find(".pulllog-login").click(function(t){getCookie("UserName")?window.location.reload():(window.csdn.loginBox.show(),t.preventDefault())});var n=function(e){function o(){i.indexOf("windows ")>-1?t("body").css({overflow:"auto","margin-left":"0"}):t("body").css({overflow:"auto"}),t(".imgViewDom").fadeOut(500).children("img").attr("src","")}var e="#content_views",n=t(e+" img"),i=navigator.userAgent.toLowerCase();return 0!==n.length&&(0===t(".imgViewDom").length&&(t("body").append('<div class="imgViewDom disnone" style="display: none;"><img src=""></div>'),t("body").append("<style>.imgViewDom{display:none;position:fixed;top:0;left:0;height:100%;width:100%;z-index:99999999;background: rgba(255, 255, 255,0.8);overflow: auto;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;display:-moz-box;-moz-box-align:center;-moz-box-pack:center;display:-o-box;-o-box-align:center;-o-box-pack:center;display:-ms-box;-ms-box-align:center;-ms-box-pack:center; display:box;box-align:center;box-pack:center;}.imgViewDom img{cursor: zoom-out;}</style>"),t(".imgViewDom").on("click",function(){o()}),t(document).keyup(function(e){if("none"!==t(".imgViewDom").css("display")){var n=e||event,i=n.which||n.keyCode;27==i&&o()}})),void t(e).on("click","img",function(e){e.currentTarget.src&&e.currentTarget.className.indexOf("contentImg-no-view")<0&&(t(".imgViewDom").fadeIn(500).children("img").css({width:e.currentTarget.naturalWidth,height:e.currentTarget.naturalheight}).attr("src",e.currentTarget.src),i.indexOf("windows ")>-1?t("body").css({overflow:"hidden","margin-left":"-17px"}):t("body").css({overflow:"hidden"}))}))};window.CSDNviewImg=n,window.csdn=window.csdn||{},window.csdn.random_num=e}(jQuery),$(function(){function t(t){if(m&&r){var e=$(window).height(),o=$(document).scrollTop(),i=t.offset().top,a=t.height();i<o+e&&i+a>o&&(n(t),r=!1)}}function e(t){return'<a target="_blank" href="'+t.clickUrl+'">                    <div class="ad-top">                        <div class="ad-top-tit">                            <span class="ad-top-topic">'+t.title+'</span>                            <span class="ad-top-type">'+t.titleRight+'</span>                            <span class="ad-top-num">'+t.topCenter+'</span>                        </div>                        <div class="ad-top-tag">                            <span class="ad-top-count">'+t.topRightNumber+'</span>                            <span class="ad-top-text">'+t.topRight+'</span>                        </div>                    </div>                    <div class="ad-con">                        <div class="ad-con-tit">'+t.introTitle+'</div>                        <div class="ad-con-box">                            <span class="ad-con-txt">'+t.intro+'</span>                            <span class="ad-con-go">'+t.buttonText+"</span>                        </div>                    </div>                </a>"}function o(o){if(o)var n={authorUserName:username,contentKey:articleTitle,pageSpm:JSON.parse(articleReport).spm,positions:542};else var n={authorUserName:username,contentKey:articleTitle,pageSpm:JSON.parse(articleReport).spm,positions:544};$.ajax({type:"GET",url:"https://kunpeng.csdn.net/ad/json/list",dataType:"json",data:n,xhrFields:{withCredentials:!0},success:function(n){200==n.code&&n.data.length?(m="articleContentAd",o?$("#content_views").append("<div id="+m+">"+e(n.data[0])+"</div>"):$(s[Math.floor(c/2)]).after("<div id="+m+">"+e(n.data[0])+"</div>"),d=n.data[0].exposureUrl,t($("#"+m))):m=""},error:function(t){m=""}})}function n(t){t.append('<img src="'+d+'" style="display:none;width:0px;height:0px" alt="">')}function i(t){return'<a target="_blank" href="'+t.url+'" '+t.dataReportView+t.dataReportClick+t.dataReportQuery+'>            <div class="card-left">                <div class="card-left-t">'+t.title+'</div>                <div class="card-left-b">                    <span class="classfiy">'+t.filetype+'</span>                    <img class="star contentImg-no-view" src="'+blogStaticHost+'dist/components/img/star.png" alt="">                    <span class="text">'+t.downloadRating+'星</span>                    <span class="circle"></span>                    <span class="text">'+t.ranking+'</span>                    <span class="circle"></span>                    <span class="text">'+t.sourceSize+'</span>                </div>            </div>            <div class="card-right">                <div class="card-right-t"><img class="contentImg-no-view" src="'+blogStaticHost+"dist/components/img/arrowDown"+skinStatus+'.png" alt=""></div>                <div class="card-right-b">下载</div>            </div>        </a>'}function a(){$.ajax({type:"GET",url:blogUrl+"phoenix/web/v1/get-inner-recommend?articleId="+articleId,dataType:"json",xhrFields:{withCredentials:!0},success:function(t){if(200==t.code&&t.data&&t.data.list.length)for(var e=t.data.list,o="articleConDownSource",n=0;n<e.length;n++)if(0==n||n>0&&c>=contentViewsCountLimit){var a=0==n?"1001.2101.3001.8634":"1001.2101.3001.8636";$(s[Math.floor(c*e[n].indexPercent/100)]).after("<div class="+o+' data-report-view=\'{"spm":"'+a+'"}\' data-report-click=\'{"spm":"'+a+"\"}'>"+i(e[n])+"</div>")}},error:function(t){}})}var s=$("#content_views").children(),c=s.length,l=$("#content_views").height(),r=!0,d="",m="";if(4===articleSource&&c>8&&l>300){var p=(null!=(_ref1=/(; )?(uuid_tt_dd|_javaeye_cookie_id_)=([^;]+)/.exec(window.document.cookie))?_ref1[3]:void 0)||"",u=p?p.substring(p.length-6)%16:0;o(u<=7)}$(document).on("scroll",function(){t($("#"+m))}),c>contentViewsCount&&l>contentViewsHeight&&a()}),$(function(){function t(t,n,i){clearTimeout(l),document.selection?c=document.selection.createRange().text:window.getSelection()&&(c=window.getSelection()),c=c.toString().replace(/\n/g,"").trim();var a=!0;if(""!=c){(c.length<=2||$.isNumeric(c)||null!==e(c)||null!==o(c))&&(a=!1);var s="//so.csdn.net/so/search?from=pc_blog_select&q="+encodeURIComponent(c.toString()),r='<div id="articleSearchTip" class="article-search-tip">          '+(a?'<a data-report-click=\'{"spm":"1001.2101.3001.6607","extra":"{\\"searchword\\":\\"'+c.toString()+'\\"}"}\' class="article-href" href="'+s+'" target="_blank" ><img src="'+blogStaticHost+"dist/pc/img/articleSearch"+skinStatus+'.png"><span class="article-text">搜索</span></a>':"")+'          <a data-report-click=\'{"spm":"1001.2101.3001.6773"}\' class="article-href" href="javascript:;" data-type="comment"><img src="'+blogStaticHost+"dist/pc/img/articleComment1"+skinStatus+'.png"><span class="article-text">评论</span></a>          </div > ';$("body").append(r),window.csdn.report&&"function"==typeof window.csdn.report.reportView&&(window.csdn.report.reportView({spm:"1001.2101.3001.6607",extra:JSON.stringify({searchword:c.toString()})}),window.csdn.report.reportView({spm:"1001.2101.3001.6773"})),$("#articleSearchTip").css({top:i.pageY-n+6,left:t})}}function e(t){var e="(https?|http|ftp|file)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]";return s=t.match(e),s}function o(t){var e=/[Γ∫∞​∀∈∋N∏∑ϕ⎡⎤⇒⇏⟹⇑⇓⇕⨿%†‡…⋯◯△▽⪇≦≰≨≯⋍≂≅≆∮]/g;return s=t.match(e),s}function n(t){var e=$("#commentQuote"),o=$("#pcCommentSideBox"),n='<span class="comment-quote-bar"></span>'+t+'<span data-report-click=\'{"spm":"1001.2101.3001.6774"}\' class="comment-quote-close"><img src="'+blogStaticHost+"dist/pc/img/quoteClose1"+skinStatus+'.png"></span>';e.length?e.html(n):(o.prepend('<div id="commentQuote" class="comment-quote">'+n+"</div>"),$("#commentSideBoxshadow").fadeIn()),$("input.bt-comment-show").trigger("click")}var i=0,a=0,c="",l=null;$("#content_views").mouseup(function(e){$(".article-search-tip").remove();var o=e.pageY-a,n=Math.min(e.pageX,i);return Math.abs(n)<=5&&Math.abs(o)<=5?(clearTimeout(l),!1):(o=o>0?o:0,clearTimeout(l),void(l=setTimeout(function(){t(n,o,e)},1e3)))}).mousedown(function(t){i=t.pageX,a=t.pageY,c="",$("#articleSearchTip").remove()}),$(document).on("click",".article-href",function(t){var e=$(this).data("type");if(void 0!==e)switch(e){case"comment":if(getCookie("UserName"))if(c.toString().length){var o=$("#csdn-toolbar").height(),i=$(document).scrollTop();i<52&&(o=2*o),n(c.toString()),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}else $("#articleSearchTip").remove(),showToast({text:"选中内容为空，请重新选中",bottom:"10%",zindex:9e3,speed:500,time:1500});else window.csdn.loginBox.show()}}),$(document).on("click",".comment-quote-close",function(t){var e=$("#commentQuote");e.animate({height:0},300,function(){e.remove()})})}),function(){function t(t){o.hasClass("no-login")||($("div.article_content").removeAttr("style"),0==$(".column-mask").length&&$(".hide-article-box").hide(),o.hasClass("fans_read_more")&&($("#btnAttent").hasClass("attented")||t.originalEvent&&($(".tool-attend").trigger("click"),window.csdn.report.reportClick({mod:"popu_376",spm:"1001.2101.3001.4248",extend1:"粉丝登录阅读更多"}))))}function e(e,o){var n=($(window).height(),$("div.article_content")),i=n.height();$("#btn-readmore").attr("height",o),i>2e3?(n.css({height:"2000px",overflow:"hidden"}),e.click(t)):e.parent().hide()}var o=$(".btn-readmore");$(".article-footer-bookmark-btn").click(window.csdn.articleCollection),o.length>0||$(".vip-mask").length>0?currentUserName?e(o,3):e(o,2):0==$(".column-mask").length&&$(".hide-article-box").addClass("hide-article-style");var n=window.location.hash,i=RegExp(/\#/);n.match(i)&&($(".btn-readmore").parent().hide(),$("div.article_content").removeAttr("style")),window.csdn=window.csdn?window.csdn:{},window.csdn.clearReadMoreBtn=t}(),$(function(){function t(t){t.list&&t.list.length&&($.each(t.list,function(t,e){var o="",n="";articleId==e.articleId&&(o="active"),e.preView&&(n='<span class="try-read">试读</span>'),i.columnlistStr+='<div class="columnlist-list-item" title="'+e.title+'"><a href="'+e.url+'" class="columnlist-list-href" data-report-view=\'{"spm":"1001.2101.3001.6326"}\' data-report-click=\'{"spm":"1001.2101.3001.6326"}\'><span class="text '+o+'">'+e.title+"</span>"+n+"</a></div>"}),t.total-t.page*t.size>0?(i.columnPage+=1,i.columnlistStr+='<p class="look-more-article active">查看更多<img class="look-more-img" src="'+blogStaticHost+"dist/pc/img/newLookMore1"+skinStatus+'.png" title="查看更多"></p>'):i.columnlistStr+='<p class="look-more-article">暂无更多内容</p>',$(document).find(i.columnlistHeight).append(i.columnlistStr),i.columnlistStr="")}function e(t,e,o,n){$.ajax({type:"GET",url:blogUrl+t,dataType:"json",xhrFields:{withCredentials:!0},data:e,success:function(t){200==t.code&&o(t.data)},error:function(t){}})}function o(t,e){if(getCookie("UserName")){var o=blogUrl+"phoenix/web/v1/subscribe/subscribe";$.ajax({url:o,type:"post",dataType:"json",data:t,xhrFields:{withCredentials:!0},success:function(t){200===t.code&&(t.data.status&&showToast({text:t.data.msg,bottom:"10%",zindex:9003,speed:500,time:1500}),e.removeClass("articleColumnFreeBt").html("已订阅"))}})}else window.csdn.loginBox.show()}function n(t,e,o){if($(document).find(t).length){var n=$(document).find(t).outerHeight(!0),i=$(document).find(e).outerHeight(!0),a=$(document).find(o).outerHeight(!0);$(document).find(o).css({height:n-i+a})}}var i={columnlistBox:"#columnlistBox",columnlistClose:".columnlist-close",columnlistContent:".columnlist-content-box",columnlistHeight:".columnlist-list-box",columnlistShow:$(".bt-columnlist-show"),columnlistShadow:$(".directory-boxshadow"),columnlistItem:$(".column-group"),columnlistUrl:"phoenix/web/v1/column/article-list",columnId:"",columnPage:1,columnlistStr:""};i.columnlistItem.on("click",function(t){$(this).children().length>1&&!$(t.target).is(".item-target")&&($(this).hasClass("open")?($(this).removeClass("open"),$(this).find(".dec").show()):($(this).addClass("open"),$(this).find(".dec").hide()))});var a="";studyLearnWord&&(a='<span class="column_studyvip_free-active">'+studyLearnWord+"</span>"),i.columnlistShow.on("click",function(o){i.columnId=$(this).data("id");var s="",c="",l="",r="",d="",m="";isOwner||($(this).data("free")?s=$(this).data("subscribe")?'<a class="columnlist-con-btn article-column-subscribe">已订阅</a>':'<a class="columnlist-con-btn columnlist-con-subscribe articleColumnFreeBt" data-id="'+$(this).data("id")+'">订阅专栏</a>':($(this).data("join")?$(this).data("studyvip")?$(this).data("subscribe")?s='<a class="columnlist-con-btn article-column-subscribe">已订阅</a>            <a class="column-studyvip-discount column-studyvip-pass" data-report-view=\'{"spm":"1001.2101.3001.6331"}\' data-report-click=\'{"spm":"1001.2101.3001.6331"}\'>8折续费 '+a+"</a>":(s='<a data-report-view=\'{"spm":"1001.2101.3001.6328","extend1":"会员已订阅"}\' data-report-click=\'{"spm":"1001.2101.3001.6328","extend1":"会员已订阅"}\' style="'+($(this).data("studysubscribe")?"display:inline-block":"display:none")+'" data-type="true" class="column-studyvip-free studyvip-subscribe  column-studyvip-ajax" data-id="'+$(this).data("id")+'">              <img class="column-studyvip-icon" src="'+blogStaticHost+'dist/components/img/studyVipIcon.png">会员已订阅            </a>',s+='<a data-report-view=\'{"spm":"1001.2101.3001.6328","extend1":"会员免费订"}\' data-report-click=\'{"spm":"1001.2101.3001.6328","extend1":"会员免费订"}\' style="'+($(this).data("studysubscribe")?"display:none":"display:inline-block")+'" data-type="false" class="column-studyvip-free studyvip-unsubscribe column-studyvip-ajax" data-id="'+$(this).data("id")+'">              <img class="column-studyvip-icon" src="'+blogStaticHost+'dist/components/img/studyVipIcon.png">会员免费订            </a>',s+=$(this).data("studysubscribe")?'<a class="column-studyvip-discount column-studyvip-pass" data-report-view=\'{"spm":"1001.2101.3001.6330"}\' data-report-click=\'{"spm":"1001.2101.3001.6330"}\'>8折续费 '+a+"</a>":'<a class="column-studyvip-discount column-studyvip-pass" data-report-view=\'{"spm":"1001.2101.3001.6329"}\' data-report-click=\'{"spm":"1001.2101.3001.6329"}\'>8折续费 '+a+"</a>"):s=$(this).data("subscribe")?'<a class="columnlist-con-btn article-column-subscribe">已订阅</a>            <a class="column-studyvip-free column-studyvip-pass" data-report-view=\'{"spm":"1001.2101.3001.6327"}\' data-report-click=\'{"spm":"1001.2101.3001.6327"}\'>              <img class="column-studyvip-icon" src="'+blogStaticHost+'dist/components/img/studyVipIcon.png">超级会员免费看              '+a+"            </a>":'<a class="columnlist-con-btn columnlist-con-subscribe articleColumnBt" data-id="'+$(this).data("id")+'" data-price="'+$(this).data("price")+'" data-oldprice="'+$(this).data("oldprice")+'" data-report-view=\'{"spm":"1001.2101.3001.6324"}\' data-report-click=\'{"spm":"1001.2101.3001.6324"}\'>订阅专栏</a>            <a class="column-studyvip-free column-studyvip-pass" data-report-view=\'{"spm":"1001.2101.3001.6325"}\' data-report-click=\'{"spm":"1001.2101.3001.6325"}\'>              <img class="column-studyvip-icon" src="'+blogStaticHost+'dist/components/img/studyVipIcon.png">超级会员免费看              '+a+"            </a>":s=$(this).data("subscribe")?'<a class="columnlist-con-btn article-column-subscribe">已订阅</a>':'<a class="columnlist-con-btn columnlist-con-subscribe articleColumnBt" data-id="'+$(this).data("id")+'" data-price="'+$(this).data("price")+'" data-oldprice="'+$(this).data("oldprice")+'" data-report-view=\'{"spm":"1001.2101.3001.6324"}\' data-report-click=\'{"spm":"1001.2101.3001.6324"}\'>订阅专栏</a>',c='<div class="columnlist-con-price">¥'+$(this).data("price")+"</div>")),r='<div class="columnlist-head">                  <div class="columnlist-head-l">                      <a href="'+$(this).data("url")+'" target="_blank"><img class="columnlist-head-img" src="'+$(this).data("img")+'" alt=""></a>                  </div>                  <div class="columnlist-head-r">                      <div class="columnlist-head-tit"><a href="'+$(this).data("url")+'" target="_blank">'+$(this).data("title")+'</a></div>                      <div class="columnlist-head-con">                          <span>'+$(this).data("sum")+" 篇文章</span>                          <span>"+$(this).data("people")+" 订阅</span>                      </div>                  </div>                </div>",d='<div class="columnlist-con">                  <div class="columnlist-con-autor">作者：'+nickName+"</div>"+c+'<div class="columnlist-con-bt">                      <a class="columnlist-con-btn columnlist-con-look" target="_blank" href="'+$(this).data("url")+'" data-report-view=\'{"spm":"1001.2101.3001.6323"}\' data-report-click=\'{"spm":"1001.2101.3001.6323"}\'>查看详情</a>'+s+"</div>                </div>",m='<div class="columnlist-list">                <div class="columnlist-list-tit">专栏目录</div>                <div class="columnlist-list-box"></div></div>',l='<div class="columnlist-box" id="columnlistBox">                <div class="columnlist-content-box">                <div class="columnlist-content">'+r+d+m+'</div>                <div class="columnlist-close">                    <img src="'+blogStaticHost+"dist/pc/img/nerClose"+skinStatus+'.png" alt="">                </div>                </div>              </div>',$("body").append(l),i.columnlistShadow.fadeIn(function(){$("html,body").addClass("forbidden-htmlbody-scroll"),$(document).find(i.columnlistBox).addClass("open"),n(i.columnlistBox,i.columnlistContent,i.columnlistHeight)}),e(i.columnlistUrl,{columnId:i.columnId,page:i.columnPage},t,i.columnlistBox);var p=o||window.event;p.stopPropagation?p.stopPropagation():p.cancelBubble=!0}),i.columnlistShadow.click(function(){$(i.columnlistClose).trigger("click")}),$(document).on("click",i.columnlistClose,function(){$(document).find(i.columnlistBox).removeClass("open"),i.columnlistShadow.fadeOut(function(){$("html,body").removeClass("forbidden-htmlbody-scroll"),$(document).find(i.columnlistBox).remove(),i.columnPage=1,i.columnId="",i.columnlistStr=""})}),$(document).on("click",".look-more-article",function(o){if($(this).hasClass("active")){$(this).fadeOut(function(){$(this).remove()}),e(i.columnlistUrl,{
columnId:i.columnId,page:i.columnPage},t,i.columnlistBox);var n=o||window.event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}}),$(document).on("click",".articleColumnFreeBt",function(t){var e=$(this).data("id");o({columnId:e},$(this));var n=t||window.event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}),$(window).resize(function(){n(i.columnlistBox,i.columnlistContent,i.columnlistHeight)})}),$(function(){function t(){this.commentForm=$("#commentform"),this.txtComment=$("#comment_content"),this.commentCountObj=this.commentForm.find("em"),this.commtCode=$("#commentCode"),this.domLi="",this.btnShowMore=$("#btnMoreComment"),this.commentBox=$("div.comment-list-box"),this.commentBoxDefault=$("div.has-comment-con"),this.commentPagination=$("#commentPage"),this.commentLineBox="",this.commentTxt=$("#comment_replyId"),this.cancelBtn=$(".btn-cancel"),this.articleId=$("article_id"),this.curH=0,this.pageCount=0,this.pageIndex=1,this.curFloor=1,this.commentCount=0,this.commentPageObj=null,this.commentFontLimit=1e3,this.firstLoad=!0,this.pageSize=10,this.showAll=!1,this.commentFold={pageSize:10,pageIndex:1,pageCount:0,total:0,fold:"fold"},this.lookBadComment=$("#lookBadComment"),this.lookUnFlodComment=$("#lookUnFlodComment"),this.commentUnFold={pageSize:10,pageIndex:1,pageCount:0,total:0,fold:"unfold"},this.lookFlodComment=$("#lookFlodComment"),this.lookGoodComment=$("#lookGoodComment"),this.isCommentFold=!1,this.bindBtnFoldMore(),this.commentFoldTextareaStr(),this.initTxt(),this.init(),this.bindBtn(),this.bindTxt(),this.commentCode(),this.comment(),this.lookMoreComment(),this.lookMoreFlodComment(),this.gosideComment(),this.commentSideTitClose(),this.cancelBtnBindEvent(),this.getPagination=function(t){var e=t,o=function(o,n){o&&(o.list&&0==o.list.length&&t-1>=1&&(e=t-1,n.commentPageObj.go(e),1==e&&$("#commentPage").hide()),n.pageCount=o.pageCount,n.commentCount=o.floorCount,n.commentPageObj.render({count:o.floorCount,current:e}),n.renderData(o.list))};this.getData(e,o)},this.bindLikedClick()}function e(t){username===t.userName?isBloger='<span class="is_bloger comment_status_tip">作者</span>':isBloger=""}function o(){$("pre.code2").each(function(t,e){hljs.highlightBlock(e),hljs.getLines(e.innerHTML).length>1?hljs.lineNumbersBlock(e):hljs.lineNumbersBlock(e,{singleLine:!0}),$(e).removeClass("code2")})}function n(){$(document).on("click",".comment-like",function(t){if(!getCookie("UserName"))return window.csdn.loginBox.show(),!1;var e=$(this).hasClass("liked")?"undigg":"digg",o=$(this).data("commentid"),n=this,i={articleId:articleId,commentId:o};$.ajax({url:blogUrl+"phoenix/web/v1/comment/"+e,type:"post",dataType:"json",data:i,xhrFields:{withCredentials:!0},success:function(t){var e=$(n).find("span").text()?parseInt($(n).find("span").text()):0;if($(n).hasClass("liked")){var o=e-1;o=o>0?o:"",$(n).removeClass("liked"),$(n).find(".unclickImg").css("display","inline-block"),$(n).find(".clickedImg").css("display","none"),$(n).find("span").text(o).css("color","#999AAA"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.6253",extend1:'{"praise":0}'})}else $(n).addClass("liked"),$(n).find(".unclickImg").css("display","none"),$(n).find(".clickedImg").css("display","inline-block"),$(n).find("span").text(e+1).css("color","#FC5531"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.6253",extend1:'{"praise":1}'});$(n).parents(".right-box").children(".comment-like").html($(n).html()),$(".comment-like-img-hover").css("display","none")}})})}function i(t){var e="";return 0==t.length?"":(e=t.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"))}function a(){getCookie("UserName")||csdn.loginBox.show()}function s(){for(var t="",e=1;e<=72;e++){var o="";o=e<10?"00"+e:e>=10&&e<100?"0"+e:e,t+='<img class="emoticon-monkey-img" data-emoticon="[face]emoji:'+o+'.png[/face]" src="https://g.csdnimg.cn/static/face/emoji/'+o+'.png">'}return t}function c(t){var e=window.location.href.split(t)[1];return null!=e?e:""}'<ul class="comment-list">                <li class="comment-line-box">                <div style="display: flex;width: 100%;">                <a target="_blank" href="'+blogUrl+username+'">                <img src="'+avatar+'" username="'+username+'" alt="'+username+'" class="avatar">                </a>                <div class="right-box "><div class="new-info-box clearfix">                <a target="_blank" href="'+blogUrl+username+'"><span class="name ">'+nickName+'<img class="is_bloger" src="'+blogStaticHost+'dist/components/img/bloger@2x.png"></span></a><span class="colon">:</span><span class="floor-num"></span><span class="new-comment">这篇文章对你有帮助吗？作为一名程序工程师，在评论区留下你的困惑或你的见解，大家一起来交流吧！</span>                </div></div></div></li></ul>','<img class="read-reply-img" src="'+blogStaticHost+'dist/pc/img/replyComment.png">';t.prototype.lookMoreComment=function(){var t=this;$(document).on("click","#lookGoodComment",function(e){t.getPagination(t.commentUnFold.pageIndex)})},t.prototype.lookMoreFlodComment=function(){var t=this;$(document).on("click","#lookBadComment",function(e){t.getFoldList(t.commentFold)})},t.prototype.gosideComment=function(){$(document).on("click",".go-side-comment",function(){getCookie("UserName")?($("#commentSideBoxshadow").fadeIn(),$(this).hasClass("focus")&&$("#comment_content").focus()):window.csdn.loginBox.show()})},t.prototype.commentSideTitClose=function(){var t=this;$(document).on("click",".comment-side-tit-close",function(e){e.target.className.indexOf("comment-side-tit-close")>-1&&($("#commentSideBoxshadow").fadeOut(function(){t.isCommentFold&&(t.isCommentFold=!1,t.commentUnFold.pageIndex=1,t.getPagination(t.commentUnFold.pageIndex),$("#pcFlodCommentSideBox").hide(),$("#pcCommentSideBox").show(),$("#pcFlodCommentSideBox .comment-fold-content").html(""))}),$("#commentQuote").remove())})},t.prototype.getData=function(t,e){if(!getCookie("UserName"))return!1;var o=this;o.pageIndex=void 0!==t?t:o.pageIndex;var n=null,i="&commentId="+r;o.pageIndex>1&&(i=""),$.ajax({url:blogUrl+"phoenix/web/v1/comment/list/"+articleId+"?page="+o.pageIndex+"&size="+o.pageSize+"&fold=unfold"+i,type:"post",xhrFields:{withCredentials:!0},success:function(t){200===t.code&&(n=t.data,n&&(o.curFloor=n.floorCount-(o.pageIndex-1)*o.pageSize,o.commentUnFold.pageIndex+=1,o.commentUnFold.pageCount=n.pageCount,o.commentUnFold.total=n.floorCount,o.commentFold.total=n.foldCount,o.commentUnFold.pageIndex>o.commentUnFold.pageCount?(o.lookGoodComment.hide(),o.commentFold.total>0?o.lookFlodComment.show():o.lookFlodComment.hide()):(o.lookGoodComment.show(),o.lookFlodComment.hide()),$(".tool-item-comment .count").html(n.count),$(".comment-side-tit-count .count").html(n.count),$(".has-comment-tit .count").html(n.count),$(".has-comment-bt-left .count").html(n.count),$(".look-flod-comment .count").html(o.commentFold.total),$(".comment-fold-tit .count").html(o.commentFold.total),o.commentFold.total>0||o.lookFlodComment.hide(),n.count>0?($("#pcCommentBox .has-comment").css({display:"block"}),$("#pcCommentBox .unhas-comment").css({display:"none"})):($("#pcCommentBox .has-comment").css({display:"none"}),$("#pcCommentBox .unhas-comment").css({display:"flex"}))))},complete:function(){e&&e(n,o)}})},t.prototype.init=function(){window.localStorage.getItem("AM_comment_data")&&window.localStorage.getItem("AM_comment_id")==articleId&&(this.txtComment[0].focus(),this.txtComment.val(window.localStorage.getItem("AM_comment_data")),this.commentTxt.val(window.localStorage.getItem("AM_comment_replyId")),$(window).scrollTop(this.txtComment.offset().top));var t=function(t,e){if(null!==t){var o="";if(getCookie("UserName")||(o="登录 "),e.pageCount=t.pageCount,e.curFloor=t.floorCount,e.commentCount=t.floorCount,e.btnShowMore.html("<span>"+o+"查看 "+t.count+' 条热评</span><img class="look-more-comment" src="'+blogStaticHost+'dist/pc/img/arrowDownComment.png">'),e.renderData(t.list),getCookie("UserName")?(e.btnShowMore.parent("div.opt-box").remove(),e.showAll=!0,t.floorCount<=e.pageSize?e.commentPagination.addClass("d-none"):0===$("#btnMoreComment").length&&e.commentPagination.removeClass("d-none"),e.showAll||e.countInitHeight()):t.floorCount<=3?(e.btnShowMore.parent("div.opt-box").remove(),e.showAll=!0):(t.floorCount<=e.pageSize?e.commentPagination.addClass("d-none"):0===$("#btnMoreComment").length&&e.commentPagination.removeClass("d-none"),e.showAll||e.countInitHeight()),null===e.commentPageObj?t.pageCount>0&&(e.commentPageObj=new Paging,e.commentPageObj.init({target:e.commentPagination,pagesize:e.pageSize,count:e.commentCount,current:1,firstTpl:"",lastTpl:"",callback:function(t,o,n){e.getPagination(t)}})):e.commentPageObj.render({count:e.commentCount}),""!==r){var n=$("div.has-comment-con ul.comment-list:first-child").find("li.comment-line-box");$(n).each(function(t,e){if(r==$(e).data("commentid")){var o=$(document).scrollTop(),i=$("#csdn-toolbar").height(),a=16;o<52&&(i=2*i);var s=$(n)[t].offsetTop-i-a;return setTimeout(function(){$("html,body").animate({scrollTop:s},200)},850),!1}})}}else e.btnShowMore.parent("div.opt-box").remove(),e.showAll=!0};this.firstLoad?this.getData(1,t):blogMoveHomeArticle&&this.btnShowMore.parent("div.opt-box").remove()},t.prototype.countInitHeight=function(){},t.prototype.initTxt=function(){var t=this;$("#comment_content").length&&$("#comment_content").focus(function(){t.addId(t);var e=t.commentFontLimit-parseInt($(this).val().length);t.commentCountObj.text(e>=0?e:0),t.cancelBtnToggle(!1),t.commentLineBox.length>0&&($("#commentEditBox").siblings(".comment-list-item").find("a.btn-reply").html("回复"),t.commentLineBox.find(".comment-edit-box").remove())}),getCookie("UserName")&&($(document).click(function(e){if(!$(e.target).is("div.comment-edit-box *")&&!$(e.target).is(".right_recommend_comment_button *")&&!$(e.target).is(".reply")){$(".comment-operate-isshow").hide();var o=t.commentFontLimit-t.txtComment.val().length;t.commentCountObj.text(o>=0?o:0)}}),$(document).click(function(t){$(t.target).is(".comment-line-box *")||($("#commentEditBox").siblings(".comment-list-item").find("a.btn-reply").html("回复"),$("#commentEditBox").remove())})),$("input.btn-comment-defualt").click(function(){$(".tool-item-comment").trigger("click")}),$(".tool-item-comment").click(function(){setTimeout(function(){$("#pcCommentBox").show(),$("#comment_content").focus()},0)})},t.prototype.bindBtn=function(){function t(t){return"svg"===this.nodeName||getCookie("UserName")?(e.commentCount>e.pageSize&&e.commentPagination.removeClass("d-none"),$(this).parent("div.opt-box").remove(),$(this).parent().parent("div.opt-box").remove(),e.showAll=!0,e.curH=0,void(window.event?window.event.cancelBubble=!0:t.stopPropagation())):(csdn.loginBox.show(),!1)}var e=this;$(document).on("click",".comment-operate-item",function(t){var o=$(t.target).data("type");if(void 0!==o)switch(o){case"report":var n=$(t.target).parents("li.comment-line-box"),i=n.data("commentid"),a=n.data("replyname");window.csdn.userLogin.loadAjax(function(t){window.csdn.feedback({type:"blog",rtype:"comment",rid:i,reportedName:a,submitOptions:{contentUrl:articleDetailUrl},callback:function(){showToast({text:"感谢您的举报，我们会尽快审核！",bottom:"10%",zindex:9e3,speed:500,time:1500})}})});break;case"reply":var s=$(t.target)[0].innerText;if($(this).find("a.btn-reply").text("回复"),$(t.target)[0].innerText="回复"==s?"收起":"回复",e.isCommentFold){if(!getCookie("UserName"))return window.csdn.loginBox.show(),!1;$("#commentEditBox").remove();var c=e.commentFoldTextareaStr("commentEditBox","New");if(!$("#commentEditBox").length&&"回复"==s){$(t.target).parents(".comment-list-item").after(c);var l=$(t.target).parents(".comment-line-box");e.addId(e,"new"),e.comment(),e.bindTxt(),curComment={},curComment.Id=l.data("commentid"),curComment.User=l.data("replyname"),curComment.text=l.find(".name").text()+(l.find(".nick-name").length?" 回复 "+l.find(".nick-name").text():"")+l.find(".comment").text(),e.cancelBtnToggle(!0),e.replayComment(curComment),e.txtComment.trigger("focus"),e.commentCode()}}else"回复"==s?"":$("#commentEditBox").remove();break;case"delete":var r=$(t.target).data("nickname"),d=$(t.target).parents("li.comment-line-box"),i=d.data("commentid");showConfirm({tit:"删除评论",text:'确认将 "'+r+'" 的评论删除吗？',isBlack:"Black"==skinStatus,rightText:"确定",zindex:9e3,success:function(){e.commentIsDelete(i)},cancel:function(){}});break;case"istop":var r=$(t.target).data("nickname"),m="false"!=$(t.target).attr("data-status"),p=$(t.target).parents("li.comment-line-box"),i=p.data("commentid");showConfirm({tit:m?"取消置顶":"置顶评论",text:m?'确认将 "'+r+'" 的评论取消置顶吗？':'确认将 "'+r+'" 的评论置顶吗？',isBlack:"Black"==skinStatus,rightText:"确定",zindex:9e3,success:function(){e.commentIsTop(i,m)},cancel:function(){}});break;case"blacklist":var m="false"!=$(t.target).attr("data-status"),u=$(t.target).data("username"),r=$(t.target).data("nickname");showConfirm({tit:m?"取消屏蔽":"屏蔽用户",text:isCurrentUserVip?m?'确认将 "'+r+'" 取消屏蔽吗？取消后对方即可在您的内容下进行评论':'确认将 "'+r+'" 屏蔽吗？屏蔽后对方将无法在您的内容下进行评论':"屏蔽用户为会员权益，您可加入会员行使该权益",isBlack:"Black"==skinStatus,rightText:isCurrentUserVip?"确定":"开通会员",zindex:9e3,success:function(){var t="";isCurrentUserVip?(t=m?"1001.2101.3001.6915":"1001.2101.3001.6913",e.commentIsBlack(username,u,m)):(window.open("https://www.csdn.net/vip?utm_source=commentblocking","_blank"),t="1001.2101.3001.6917"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:t})},cancel:function(){}})}}),this.btnShowMore.click(t),this.btnShowMore.find("svg").click(t)},t.prototype.bindTxt=function(){var t=this;this.txtComment.blur(function(){}),this.txtComment.keyup(function(){var e=t.commentCountObj,o=t.commentFontLimit-$(this).val().length;o<0?e.text(0):e.text(o),$(this).val().length||$(this).data("replayUser")?t.cancelBtnToggle(!0):t.cancelBtnToggle(!1)})},t.prototype.renderData=function(t){var e=this,n=e.commentFoldTextareaStr("commentEditBox","New");e.buildListDom(t,!1,this,!0),$(".comment-list li.comment-line-box").on("click",function(t){if($(t.target).data("flag")&&(e.commentLineBox&&e.commentLineBox[0]!=$(this)[0]&&e.commentLineBox.find(".comment-edit-box").remove(),0==$(this).find(".comment-edit-box").length)){if(getCookie("UserName")){getCookie("UserName")&&($(this).append(n),$("#closeNew").on("click",function(t){$(this).parents(".comment-edit-box").remove()}),e.addId(e,"new"),e.comment(),e.bindTxt(),curComment={},curComment.Id=$(this).data("commentid"),curComment.User=$(this).data("replyname"),curComment.text=$(this).find(".name").text()+($(this).find(".nick-name").length?" 回复 "+$(this).find(".nick-name").text():"")+$(this).find(".comment").text(),e.cancelBtnToggle(!0),e.replayComment(curComment),e.txtComment.trigger("focus"),e.commentCode());var o=$(document).scrollTop(),i=$("#csdn-toolbar").height();o<52&&(i=2*i)}else csdn.loginBox.show();e.commentLineBox=$(this)}}),o()},t.prototype.commentFoldTextareaStr=function(t,e){if($("#isShowCommentAuth").length&&1==$("#isShowCommentAuth").data("type"))var o='<span class="tip">&nbsp;&nbsp;|&nbsp;&nbsp;博主筛选后可见</span>';else var o="";var n='<div class="comment-edit-box d-flex" id="'+t+'">            <form id="commentform'+e+'">                <textarea class="comment-content" name="comment_content" id="comment_content'+e+'" placeholder="请发表有价值的评论， 博客评论不欢迎灌水，良好的社区氛围需大家一起维护。" maxlength="1000"></textarea>                <div class="comment-operate-box">                    <div class="comment-operate-l">                        <span id="tip_comment" class="tip">还能输入<em>1000</em>个字符</span>'+o+'                    </div>                    <div class="comment-operate-r">                        <div class="comment-operate-item comment-emoticon">                            <img class="comment-operate-img" data-url="" src="'+blogStaticHost+'dist/pc/img/commentEmotionIcon.png" alt="表情包">                            <span class="comment-operate-tip">插入表情</span>                            <div class="comment-operate-isshow comment-emoticon-box comment-emoticon'+e+'" style="display: none;">                                <div class="comment-emoticon-img-box"></div>                            </div>                        </div>                        <div class="comment-operate-item comment-code comment-code'+e+'">                            <img class="comment-operate-img" data-url="" src="'+blogStaticHost+'dist/pc/img/commentCodeIcon.png" alt="代码片">                            <span class="comment-operate-tip">代码片</span>                            <div class="comment-operate-isshow comment-code-box">                                <ul id="commentCode'+e+'">                                    <li><a data-code="html">HTML/XML</a></li>                                    <li><a data-code="objc">objective-c</a></li>                                    <li><a data-code="ruby">Ruby</a></li>                                    <li><a data-code="php">PHP</a></li>                                    <li><a data-code="csharp">C</a></li>                                    <li><a data-code="cpp">C++</a></li>                                    <li><a data-code="javascript">JavaScript</a></li>                                    <li><a data-code="python">Python</a></li>                                    <li><a data-code="java">Java</a></li>                                    <li><a data-code="css">CSS</a></li>                                    <li><a data-code="sql">SQL</a></li>                                    <li><a data-code="plain">其它</a></li>                                </ul>                            </div>                        </div>                        <div class="comment-operate-item">                            <input type="hidden" id="comment_replyId'+e+'" name="comment_replyId'+e+'">                            <input type="hidden" id="article_id'+e+'" name="article_id'+e+'" value="'+$("#article_id").val()+'" >                            <input type="hidden" id="comment_userId'+e+'" name="comment_userId'+e+'" value="">                            <input type="hidden" id="commentId'+e+'" name="commentId'+e+'" value="">                            <a data-report-click=\'{"spm":"1001.2101.3001.4227"}\'><input type="submit" class="btn-comment btn-comment-input" value="评论"></a>                        </div>                    </div>                </div>            </form>        </div>';return n},t.prototype.buildListDom=function(t,e,o,n){for(var i="",a="",s=0;s<t.length;s++){var c=t[s].info,l=t[s].sub,r=void 0!==l?l.length:0;if(i='<ul class="comment-list">',i+=o.buildHtml(c,r,!0,c.userName?c.userName:"",n),r>0){i+='<li class="replay-box" style="display:block">',i+='<ul class="comment-list">';for(var d=0;d<r;d++){var m=l[d];null!==m&&(i+=this.buildHtml(m,0,!1,m.parentUserName?m.parentUserName:"",n))}r>1&&(i+='<div class="second-look-more">查看全部 '+r+' 条回复<img src="'+blogStaticHost+"dist/pc/img/commentArrowDown"+skinStatus+'.png"></div>'),i+="</ul>",i+="</li>"}i+="</ul>",e?a+=i:(o.commentBox.append($(i)),2==o.commentUnFold.pageIndex&&0==s&&o.commentBoxDefault.html($(i)),o.curFloor--)}if(!t.length&&o.commentUnFold.total<=0&&o.commentBoxDefault.html(""),e)return a},t.prototype.addId=function(t,e){"new"==e?(t.commentForm=$("#commentformNew"),t.txtComment=$("#comment_contentNew"),t.commentCountObj=t.commentForm.find("em"),t.commtCode=$("#commentCodeNew"),t.commentTxt=$("#comment_replyIdNew"),t.articleId=$("#article_idNew")):(t.commentForm=$("#commentform"),t.txtComment=$("#comment_content"),t.commentCountObj=t.commentForm.find("em"),t.commtCode=$("#commentCode"),t.commentTxt=$("#comment_replyId"),t.articleId=$("#article_id"))},t.prototype.bindBtnFoldMore=function(){var e=this;$(document).on("click","#lookFlodComment",function(){e.isCommentFold=!0,e.commentFold.pageIndex=1,e.getFoldList(e.commentFold),$("#pcFlodCommentSideBox").show(),$("#pcCommentSideBox").hide(),$("#pcCommentSideBox .comment-list-box").html("")}),$(document).on("click","#lookUnFlodComment",function(){e.isCommentFold=!1,e.commentUnFold.pageIndex=1,e.getPagination(e.commentUnFold.pageIndex),$("#pcFlodCommentSideBox").hide(),$("#pcCommentSideBox").show(),$("#pcFlodCommentSideBox .comment-fold-content").html("")}),t.prototype.getFoldList=function(t){$.ajax({url:blogUrl+"phoenix/web/v1/comment/list/"+articleId+"?page="+e.commentFold.pageIndex+"&size="+e.commentFold.pageSize+"&fold="+e.commentFold.fold,type:"post",xhrFields:{withCredentials:!0},success:function(t){if(200===t.code){result=t.data;result.foldCount;if($(".tool-item-comment .count").html(result.count),$(".comment-side-tit-count .count").html(result.count),$(".has-comment-tit .count").html(result.count),$(".has-comment-bt-left .count").html(result.count),$(".look-flod-comment .count").html(result.foldCount),$(".comment-fold-tit .count").html(result.foldCount),result.foldCount>0?e.lookFlodComment.show():e.lookFlodComment.hide(),result.count>0?($("#pcCommentBox .has-comment").css({display:"block"}),$("#pcCommentBox .unhas-comment").css({display:"none"})):($("#pcCommentBox .has-comment").css({display:"none"}),$("#pcCommentBox .unhas-comment").css({display:"flex"})),result.list.length){var o=e.buildListDom(result.list,!0,e,!1),n=document.createElement("div");n.classList.add("comment-fold-con","comment-list-box","comment-operate-item"),n.innerHTML=o,$("#pcFlodCommentSideBox .comment-fold-content").append(n),e.commentFold.pageIndex+=1,e.commentFold.pageCount=result.pageCount,e.commentFold.pageIndex>e.commentFold.pageCount?e.lookBadComment.hide():e.lookBadComment.show()}}}})}};var l="";t.prototype.buildHtml=function(t,o,n,i,a){var s="",c="",r="",d="",m=!1,p="",u="";if(t.content=this.replaceUrl(t.content),n){l=i,p=this.getQuote(t.content),t.content=this.replaceQuote(t.content);var h=this.getQuoteInfo(t.content);h.length>1?(r=h[1],d=this.getCodeInfo(h[2]),d=this.replaceNewUBB(d),s=this.getCodeInfo(h[3]),s=this.replaceNewUBB(s),s='<span class="quote">引用“<font color="black">'+r+"</font>”的评论：</span><blockquote>"+d+"</blockquote>"+s):(s=this.replaceNewUBB(h[0]),s=this.getCodeInfo(s)),username===getCookie("UserName")&&(m=!0)}else{var h=this.getReplyInfo(t.content);c=h[1];var g=h.length>2?this.getQuoteInfo(h[2]):this.getQuoteInfo(h[0]);g.length>1?(r=g[1],d=this.getCodeInfo(g[2]),d=this.replaceNewUBB(d),s=this.getCodeInfo(g[3]),s=this.replaceNewUBB(s),s='<span class="quote">引用“<font color="black">'+r+"</font>”的评论：</span><blockquote>"+d+"</blockquote>"+s):(s=this.replaceNewUBB(g[0]),s=this.getCodeInfo(s))}if(e(t),n&&p&&""!=p&&(u='<div class="comment-quote-item">'+p+"</div>"),n)var f="";else var f="comment-line-box-hide";var v="匿名用户"!=t.userName?blogUrl+t.userName:"javascript:void(0);",w='<li class="comment-line-box '+f+'" data-commentid="'+t.commentId+'" data-replyname="'+t.userName+'">            <div class="comment-list-item">                <a class="comment-list-href" target="_blank" href="'+v+'"><img src="'+t.avatar+'" username="'+t.userName+'" alt="'+t.userName+'" class="avatar"></a>                <div class="right-box '+(c?"reply-box":"")+'" >                    <div class="new-info-box clearfix"><div class="comment-top"><div class="user-box"><a class="name-href" target = "_blank" href = "'+v+'" > <span class="name '+(n?"":"mr-8")+'">'+(n?t.nickName+"</span></span>"+isBloger+"</a> "+(t.isTop&&a?' <span class="is_top comment_status_tip"> 置顶</span> ':""):t.nickName+"</span>"+isBloger+'</a> <span class="text">回复</span> <span class="nick-name"> '+(t.parentNickName?t.parentNickName:"")+"</span>")+'<span class="date"  title="'+t.postTime+'">'+t.dateFormat+'</span><div class="opt-comment"><a class="btn-bt  btn-report"><img class="btn-report-img" src="'+blogStaticHost+'dist/pc/img/commentLookMore.png" title=""><div class="hide-box">'+(m&&a?' <span class="hide-item hide-top" data-type="istop" data-nickname="'+t.nickName+'" data-status="'+!!t.isTop+'" data-report-click=\'{"spm": '+(t.isTop?'"1001.2101.3001.6901"':'"1001.2101.3001.6511"')+',"extend1":'+(t.isTop?'"取消置顶"':'"置顶评论"')+"}'>"+(t.isTop?"取消置顶":"置顶评论")+"</span>":"")+(a&&getCookie("UserName")===username&&t.userName!==getCookie("UserName")?' <span class="hide-item hide-blacklist" data-type="blacklist" data-username="'+t.userName+'" data-nickname="'+t.nickName+'" data-status="'+!!t.isBlack+'" data-report-click=\'{"spm": '+(t.isBlack?'"1001.2101.3001.6914"':'"1001.2101.3001.6912"')+',"extend1":'+(t.isTop?'"取消屏蔽"':'"屏蔽用户"')+"}'> "+(t.isBlack?"取消屏蔽":"屏蔽用户")+"</span> ":"")+(isOwner||getCookie("UserName")===t.userName?'<span class="hide-item hide-delete" data-type="delete" data-nickname="'+t.nickName+'">删除</span>':"")+'<span data-type="report" class="hide-item hide-report"> 举报</span></div></a><img class="comment_img_replay" src="'+blogStaticHost+"dist/pc/img/newCommentReply"+skinStatus+'.png"><a class="btn-bt  btn-reply" data-type="reply" data-flag="true">回复</a></div></div ><div class="comment-like '+(t.diggArr.indexOf(getCookie("UserName"))!=-1?"liked":"")+'" data-commentid='+t.commentId+" >"+(0!==parseInt(t.digg)?"<span>"+t.digg+"</span>":"<span></span>")+'<img class="comment-like-img unclickImg" src="'+blogStaticHost+"dist/pc/img/commentLike"+skinStatus+'.png" title="点赞"><img class="comment-like-img comment-like-img-hover" style="display:none" src="'+blogStaticHost+'dist/pc/img/commentLikeHover.png" title="点赞"><img class="comment-like-img clickedImg" src="'+blogStaticHost+'dist/pc/img/commentLikeActive.png" title="取消点赞"></div></div><div class="comment-center">'+u+'<div class="new-comment">'+this.setNewLine(s)+"</div></div></div></div></div></li>";return w},t.prototype.setNewLine=function(t){var e=/\<pre name="code2" ([\s\S]*?)\>([\s\S]*?)\<\/pre\>/gi,o=[];if(t.replace(e,function(t){o.push(t)}),o.length)for(var n=t.replace(e,function(t){return"[csdnCommentPreCode]"}),i=n.replace(/\n/g,"</br>"),a=0;a<o.length;a++)i=i.replace("[csdnCommentPreCode]",o[a]);else var i=t.replace(/\n/g,"<br/>");return i},t.prototype.getReplyInfo=function(t){var e=t.split(/\[reply]([\s\S]*?)\[\/reply\][\r\n]{0,1}/gi);return e},t.prototype.getQuoteInfo=function(t){var e=t.split(/\[quote=([\w#\.]+)\]([\s\S]*?)\[\/quote\][\r\n]{0,2}/gi);return e},t.prototype.getCodeInfo=function(t){var e=t.replace(/\[code=([\w#\.]+)\]([\s\S]*?)\[\/code\]/gi,function(t,e,o){return""==$.trim(o)?"":'<pre name="code2" class="code2 '+e+'"><code>'+i(o.trim())+"</code></pre>"});return e},t.prototype.replaceNewUBB=function(t){return t=t.replace(/\[face\]([^\]]+):([^\]]+)\[\/face\]/gi,'<img src="//g.csdnimg.cn/static/face/$1/$2" alt="表情包"/>')},t.prototype.replaceUrl=function(t){var e=/(((https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/gi,o=/\[code=([\w#\.]+)\]([\s\S]*?)\[\/code\]/gi,n=[];if(t.replace(o,function(t){n.push(t)}),n.length)for(var i=t.replace(o,function(t){return"[csdnCommentCode]"}),a=i.replace(e,function(t){return'<a class="comment-match-url" target="_blank" href="'+t+'">'+t+"</a>"}),s=0;s<n.length;s++)a=a.replace("[csdnCommentCode]",n[s]);else var a=t.replace(e,function(t){return'<a class="comment-match-url" target="_blank" href="'+t+'">'+t+"</a>"});return a},t.prototype.replaceQuote=function(t){return t=t.replace(/\[quote\]([\s\S]*?)\[\/quote\]/gi,"")},t.prototype.getQuote=function(t){var e="";return t.replace(/\[quote\]([\s\S]*?)\[\/quote\]/gi,function(t){e=t}),e=e.replace("[quote]","").replace("[/quote]","")},t.prototype.replayComment=function(t){var e=t.Id,o=t.User;this.txtComment.attr("placeholder","回复："+t.text).data("replayUser",o),this.commentTxt.val(e)},t.prototype.commentCode=function(){var t=this;t.commtCode.find("a").click(function(e){var o="[code="+$(this).data("code")+"]\n\n[/code]",n=t.txtComment.val();(o+n).length<=t.commentFontLimit?(t.txtComment.val(n+o),"comment_content"==t.txtComment[0].id&&$("#comment-content").val(n+o),t.commtCode.parents(".comment-code-box").fadeOut()):showToast({text:"您输入的字数已经超过限定了",bottom:"10%",zindex:9e3,speed:500,time:1500});var i=e||window.event;i.stopPropagation?i.stopPropagation():i.cancelBubble=!0})},t.prototype.comment=function(){function t(t){if(!getCookie("UserName"))return e.setStorage();window.localStorage.removeItem("AM_comment_data");var o=$(t).find(":submit"),n={commentId:e.commentTxt.val(),content:e.txtComment.val(),articleId:articleId};if(n.replyId&&$.trim(n.content)&&(n.content="[reply]"+e.txtComment.data("replayUser")+"[/reply]"+n.content),$(t).find("#comment_content").length&&$("#commentQuote").length&&""!==$("#commentQuote").text()&&(n.content="[quote]"+$("#commentQuote").text().substr(0,50)+"[/quote]"+n.content),""===$.trim(n.content)||""===e.txtComment.val())showToast({text:"请填写评论内容",bottom:"10%",zindex:9e3,speed:500,time:1500});else{var i=blogUrl+"phoenix/web/v1/comment/submit";o.prop("disabled",!0).val("提交中"),$.ajax({url:i,type:"post",dataType:"json",data:n,xhrFields:{withCredentials:!0},beforeSend:function(){},success:function(t){if(200===t.code){if(e.isCommentFold)e.commentFold.pageIndex=1,$("#pcFlodCommentSideBox .comment-fold-content").html(""),e.getFoldList(e.commentFold);else{e.commentForm.trigger("reset"),e.commentTxt.val(""),e.txtComment.data("replayUser","").attr("placeholder","想对作者说点什么"),e.cancelBtnToggle(!1),r=t.data,e.init(),e.removeStorage();var o=$("#commentQuote");o.length&&o.animate({height:0},300,function(){o.remove()}),e.commentUnFold.pageIndex=1,$("#pcCommentSideBox .comment-list-box").html("")}showToast({text:"评论成功,审核后显示",bottom:"10%",zindex:9e3,speed:500,time:2e3})}else showToast({text:t.message,bottom:"10%",zindex:9e3,speed:500,time:2e3})},complete:function(){o.prop("disabled",!1).val("评论")}})}return!1}var e=this;e.commentForm.submit(function(e){e.preventDefault();var o=this;try{window.csdn.userLogin.loadAjax(function(e){t(o)})}catch(n){t(o)}})},t.prototype.insertRightCommnetPrompt=function(){if(window.localStorage.getItem("AM_comment_Prompt_show"))return!1;window.localStorage.setItem("AM_comment_Prompt_show",!0);var t=$(".right_recommend_comment"),e=$(".right_recommend_comment_Prompt");e.length>0?e.fadeIn(300):t.prepend('<div class="right_recommend_comment_Prompt"><div class="text">新的评论在这里</div><div class="arrow"></div></div>'),setTimeout(function(){$(".right_recommend_comment_Prompt").fadeOut(500)},4e3)},t.prototype.setStorage=function(){return window.localStorage.setItem("AM_comment_data",this.txtComment.val()),window.localStorage.setItem("AM_comment_replyId",this.commentTxt.val()),window.localStorage.setItem("AM_comment_id",articleId),!!getCookie("UserName")||(window.csdn.loginBox.show(),!1)},t.prototype.removeStorage=function(){window.localStorage.removeItem("AM_comment_data"),window.localStorage.removeItem("AM_comment_replyId"),window.localStorage.removeItem("AM_comment_id")},t.prototype.bindLikedClick=n,t.prototype.cancelBtnToggle=function(t){t?this.cancelBtn.removeClass("d-none"):this.cancelBtn.addClass("d-none")},t.prototype.cancelBtnBindEvent=function(){var t=this;this.cancelBtn.on("click",function(){t.txtComment.attr("placeholder","想对作者说点什么").data("replayUser","").val(""),t.commentTxt.val(""),t.cancelBtnToggle(!1)})},t.prototype.commentIsBlack=function(t,e,o){var n=this,i="https://mp-action.csdn.net/interact/wrapper/pc/black/"+(o?"cancel":"save"),a=o?{username:t,usernameList:[e],bizNo:"blog"}:{username:t,blackUsername:e,bizNo:"blog"};$.ajax({url:i,type:"post",data:JSON.stringify(a),contentType:"application/json",dataType:"json",xhrFields:{withCredentials:!0},success:function(t){200===t.code?(setTimeout(function(){n.isCommentFold?(n.commentFold.pageIndex=1,$("#pcFlodCommentSideBox .comment-fold-content").html(""),n.getFoldList(n.commentFold)):(n.commentUnFold.pageIndex=1,$("#pcCommentSideBox .comment-list-box").html(""),n.getPagination(n.commentUnFold.pageIndex))},100),showToast({text:o?"取消屏蔽成功！":"屏蔽用户成功！",bottom:"10%",zindex:9e3,speed:500,time:1500})):showToast({text:o?"取消屏蔽失败，请刷新页面重新操作！":"屏蔽用户失败，请刷新页面重新操作！",bottom:"10%",zindex:9e3,speed:500,time:1500})}})},t.prototype.commentIsTop=function(t,e){
var o=this,n=blogUrl+"phoenix/web/v1/comment/top",i={commentId:t,articleId:articleId,action:e?0:1};$.ajax({url:n,type:"post",dataType:"json",data:i,xhrFields:{withCredentials:!0},success:function(t){200===t.code?(setTimeout(function(){o.isCommentFold?(o.commentFold.pageIndex=1,$("#pcFlodCommentSideBox .comment-fold-content").html(""),o.getFoldList(o.commentFold)):(o.commentUnFold.pageIndex=1,$("#pcCommentSideBox .comment-list-box").html(""),o.getPagination(o.commentUnFold.pageIndex))},100),showToast({text:e?"取消置顶成功！":"置顶评论成功！",bottom:"10%",zindex:9e3,speed:500,time:1500})):showToast({text:e?"取消置顶失败，请重新操作！":"置顶评论失败，请重新操作！",bottom:"10%",zindex:9e3,speed:500,time:1500})}})},t.prototype.commentIsDelete=function(t){var e=this,o=$("#article_id").val(),n=blogUrl+"phoenix/web/v1/comment/delete",i={commentId:t,articleId:o};$.ajax({url:n,type:"post",dataType:"json",data:i,xhrFields:{withCredentials:!0},success:function(t){200===t.code?(setTimeout(function(){e.isCommentFold?(e.commentFold.pageIndex=1,$("#pcFlodCommentSideBox .comment-fold-content").html(""),e.getFoldList(e.commentFold)):(e.commentUnFold.pageIndex=1,$("#pcCommentSideBox .comment-list-box").html(""),e.getPagination(e.commentUnFold.pageIndex))},100),showToast({text:"删除成功!",bottom:"10%",zindex:9e3,speed:500,time:1500})):showToast({text:"删除失败，请重新操作!",bottom:"10%",zindex:9e3,speed:500,time:1500})}})},$(document).on("keydown",".comment-content",function(t){var e=t||event;(e.ctrlKey&&13==e.which||13==e.which&&e.metaKey)&&("comment_content"==$(this).attr("id")?$("#commentform .btn-comment").trigger("click"):$("#commentformNew .btn-comment").trigger("click"))}),$(document).on("click",".second-look-more",function(t){$(this).hide(),$(this).siblings(".comment-line-box-hide").show()}),$(document).on("click",".comment-operate-item",function(t){if(getCookie("UserName")){$(".comment-operate-isshow").fadeOut(),$(this).hasClass("comment-emoticon")&&(""==$(".comment-emoticon-img-box").html()&&$(".comment-emoticon-img-box").html(s()),$(this).find(".comment-emoticonNew").length&&$(this).find(".comment-operate-isshow").html($("#commentform .comment-emoticon-box").html()),$(this).find(".comment-emoticon-box").fadeIn()),$(this).hasClass("comment-code")&&($(this).find(".comment-code-box").fadeIn(),!$(this).hasClass("comment-codeNew"));var e=t||window.event;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}else csdn.loginBox.show()}),$(document).on("click",".emoticon-monkey-img",function(t){var e=$(this).data("emoticon");if($(this).parents(".comment-emoticon-box").is(".comment-emoticonNew")){var o=$("#comment_contentNew").val()+e;o.length<=1e3?textareaPointLocation.insertAtCaret($("#comment_contentNew")[0],e):showToast({text:"您输入的字数已经超过限定了",bottom:"10%",zindex:9e3,speed:500,time:1500})}else{var o=$("#comment_content").val()+e;o.length<=1e3?textareaPointLocation.insertAtCaret($("#comment_content")[0],e):showToast({text:"您输入的字数已经超过限定了",bottom:"10%",zindex:9e3,speed:500,time:1500})}$(this).parents(".comment-emoticon-box").fadeOut();var n=t||window.event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}),$(document).on("mouseenter",".comment-like",function(){$(this).hasClass("liked")?($(this).find(".clickedImg").css("display","none"),$(this).find(".comment-like-img-hover").css("display","block")):($(this).find(".unclickImg").css("display","none"),$(this).find(".comment-like-img-hover").css("display","block"))}),$(document).on("mouseleave",".comment-like",function(){$(this).hasClass("liked")?($(this).find(".clickedImg").css("display","block"),$(this).find(".comment-like-img-hover").css("display","none")):($(this).find(".unclickImg").css("display","block"),$(this).find(".comment-like-img-hover").css("display","none"))}),$(document).on("click",".unlogin-comment-box-new .unlogin-comment-bt",function(){window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.6916"}),a()});var r=c("#comments_");if(r&&!getCookie("UserName")){$("#pcCommentBox").show();var d=$(document).scrollTop(),m=$("#csdn-toolbar").height(),p=2*$("#pcCommentBox").height();d<52&&(m=2*m);var u=$("#pcCommentBox").offset().top-m-p;return setTimeout(function(){$("html,body").animate({scrollTop:u},200)},850),!1}window.csdn.comments?window.csdn.comments:{},window.csdn.Comments=t,window.csdn.comments=new window.csdn.Comments}),$(function(){if(1===articleType){var t=$("main .blog-content-box")[0],e=document.querySelector(".creativecommons span a");e=e?e.innerText:"CC 4.0 BY-SA";var o="\r\n————————————————\r\n版权声明：本文为CSDN博主「"+nickName+"」的原创文章，遵循"+e+"版权协议，转载请附上原文出处链接及本声明。\r\n原文链接："+curentUrl;csdn.copyright.init(t,o)}}),$(function(){function t(t,o){if(!(o.length<2)){var n="";n+="<ol>";for(var i=0,a=0,s=0,c=0,l=0,r=0;r<o.length;r++){var d=parseInt(o[r].tagName.substr(1),10);if(i||(i=d),d>i?(n+='<li class="sub-box"><ol>',a++):d<i&&a>0&&(n+="</ol></li>",a--),1==d)for(;a>0;)n+="</ol>",a--;i=d;var m=o.eq(r).text();if(m=/^[\s]+$/.test(m)?m:m.replace(/^[\s]+/g,""),m=e(m),m.length>0)switch(d){case 1:++s,c=0,l=0;var p="";1===s&&(p="active"),n+="<li class="+p+'><a href="#t'+r+'">'+m+"</a></li>";break;case 2:++c,l=0,n+='<li><a href="#t'+r+'">'+m+"</a></li>";break;case 3:++l,n+='<li><a href="#t'+r+'">'+m+"</a></li>"}}for(;a>0;)n+="</ol>",a--;return n}}function e(t){return t.replace(/[<>&"]/g,function(t){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[t]})}function o(t){function e(t){return $(t).each(function(t,n){n.children&&e(n.children),++o}),o}var o=0;return e(t)}function n(t,e,o){var n=$("div.groupfile"),i=n.find("div.toc-box"),a=n.find("div.opt-box");if(e<=2&&$("#liTocBox").remove(),e>2&&"0"==d&&$("#liTocBox").css("display","block"),e<=2&&"1"==d?($(".groupfile").remove(),$("#rightAsideConcision").remove()):isShowConcision?(isCookieConcision&&$(".recommend-right1").addClass("show-directory"),isHasDirectoryModel=!0):$("#rightAsideConcision").remove(),e<=2&&($("#blog_artical_directory").hide(),$(".left_menu .menu_con").hide()),!$(".first_li")[0]){i.html(o(t,m)),s(e,a,i);var c=!1;$("#liTocBox").hover(function(){$("#liTocBox .toc-container").finish().fadeIn(500),$(this).find("button.btn-toc").addClass("active"),c=!1},function(t){c=!0;var e=$(this);setTimeout(function(){c&&($("#liTocBox .toc-container").finish().fadeOut(500),e.find("button.btn-toc").removeClass("active"))},300)})}}function i(){var t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;t+=10;for(var e=0;e<h.length-1;e++){if(t<=h[0]){var o="#"+$(u[0]).find("a")[0].name,n=$("#groupfile").find('a[href="'+o+'"]')[0],i=$("#directory").find('a[href="'+o+'"]')[0],a=$("#groupfileConcision").find('a[href="'+o+'"]')[0];$(n).parent().addClass("active"),$(i).parent().addClass("active"),$(a).parent().addClass("active")}if(h[e]<=t&&t<=h[e+1]){var o="#"+$(u[e]).find("a")[0].name,n=$("#groupfile").find('a[href="'+o+'"]')[0],i=$("#directory").find('a[href="'+o+'"]')[0],a=$("#groupfileConcision").find('a[href="'+o+'"]')[0];$(n).parent().addClass("active"),$(i).parent().addClass("active"),$(a).parent().addClass("active"),$(n).length&&$("#groupfile .align-items-stretch").animate({scrollTop:$(n)[0].offsetTop+"px"},0),$(i).length&&$("#directory .align-items-stretch").animate({scrollTop:$(i)[0].offsetTop+"px"},0)}}}function a(){var t=$("#csdn-toolbar").height()+8;w+$(document).scrollTop()-($("#recommend-right").height()+$("#csdn-toolbar").height()+8)>=180?($("#recommend-right").css({position:"fixed",top:t}),$("#recommend-right-concision").css({position:"fixed",top:t})):($("#recommend-right").removeAttr("style"),$("#recommend-right-concision").removeAttr("style")),0==$(document).scrollTop()&&($("#recommend-right").removeAttr("style"),$("#recommend-right-concision").removeAttr("style"))}function s(t,e,o){if(t>9){var n=25*$("div.toc-box").find("li:not(.sub-box)").length,i=225,a=n-i,s=0;e.find("button.btn-opt").click(function(){$(this).hasClass("nomore")||($(this).hasClass("prev")?(s-=25,o.scrollTop(s),s<=0&&$(this).addClass("nomore")):(s+=25,s>=25*(t-17)&&(s=25*(t-17)),o.scrollTop(s),s>=a&&$(this).addClass("nomore")),$(this).siblings().removeClass("nomore"))})}else e.remove()}function c(){function t(e){$(".openvippay")[0]||window.csdn.clearReadMoreBtn(),o.off("click",t)}function e(){var t=window.location.href,e=document.title;setTimeout(function(){history.pushState(null,e,t)},0)}var o=$(".toc-container .toc-box ol li a");return 0!==o.length&&(o.click(t),void o.click(e))}function l(t){var e="<ol>";return $(t).each(function(t,o){e+=r(o,t)}),e+"</ol>"}function r(t,e){return t.children.length?"<li><a>"+t.title+'</a></li><li class="sub-box">'+l(t.children)+"</li>":"<li><a>"+t.title+"</a></li>"}for(var d=1,m=$("#article_content").find("h1,h2,h3"),p=0;p<m.length;p++)m.eq(p).html('<a name="t'+p+'"></a>'+m.eq(p).html());$(".vip_article")[0]?($.ajax({type:"GET",url:blogUrl+"/phoenix/web/v1/get-article-catalog?articleId="+articleId,dataType:"json",xhrFields:{withCredentials:!0},success:function(t){200==t.code&&(n(t.data,o(t.data),l),c(),$("#groupfile .toc-box ol li a").each(function(t,e){e.href="#t"+t}),$("#directory .toc-box ol li a").each(function(t,e){e.href="#t"+t}),""===String($(".groupfile .toc-box").text()).replace(/(^\s*)|(\s*$)/g,"")?($("#asidedirectory").remove(),$("#groupfile").remove(),$("#rightAsideConcision").remove(),isHasDirectoryModel=!1):$("#groupfile").show())}}),$("#downloadEduApp").click(function(){getCookie("UserName")?window.open("https://vip.csdn.net/studyvip?utm_source=zhuanlan"):window.csdn.loginBox.show()})):(n("",m.length,t),c(),""===String($(".groupfile .toc-box").text()).replace(/(^\s*)|(\s*$)/g,"")?($("#asidedirectory").remove(),$("#groupfile").remove(),$("#rightAsideConcision").remove(),isHasDirectoryModel=!1):$("#groupfile").show()),$(document).on("toolbarHeightChange",function(t){var e=$("#csdn-toolbar").height()+8;$("#recommend-right").css("position")&&$("#recommend-right").css({top:e})});var u=$("#content_views").find("h1,h2,h3"),h=[],g=$("#content_views").offset().top,f=$("#content_views").height(),v=$("#csdn-toolbar").height();$(u).each(function(t,e){h.push($(e)[0].offsetTop+g-2*v)}),h.push(f+g),$(window).scroll(function(){$(".groupfile .toc-box li").removeClass("active"),i()}),i(),$(document).on("click",".groupfile .toc-box li a",function(t){$(".groupfile .toc-box li").removeClass("active"),$(this).parent().addClass("active")}),$(window).resize(function(){});var w=document.body.clientHeight||document.documentElement.clientHeight;if($("#groupfile").css("max-height",w/2+"px"),$(".groupfile-div").css("max-height",w/2+"px"),$(".groupfile-div1").css("max-height",w-48+"px"),$(document).scroll(function(){a()}),a(),$(document).on("click",".csdn-side-toolbar .option-box",function(t){isShowConcision&&setTimeout(function(){a()},100)}),$(".hide-article-box").length&&"none"!==$(".hide-article-box").css("display")){for(var b=$(".hide-article-box").offset().top,x=0,y=0;y<h.length-1;y++)h[y]<=b&&b<=h[y+1]&&(x=y+1);var C=u.slice(x,u.length);$(".vip_article")[0]&&$(document).click(".groupfile .toc-box ol a",function(t){if($(t.target)[0].hash&&$(t.target)[0].hash.split("#t")&&parseInt($(t.target)[0].hash.split("#t")[1])>x){var e=$("#getVipUrl").attr("href");e.indexOf("vip")>-1?window.open(e+"?utm_source=brv&sale_source=BgsN7mSaYF"):window.open(e)}}),$(".btn-readmore")[0]&&C.each(function(t,e){$(".groupfile .toc-box ol").find('a[href="#'+$(C[t]).find("a")[0].name+'"]').click(function(){$(".btn-readmore").trigger("click"),$(".btn-readmore").hasClass("no-login")?window.open("https://passport.csdn.net/account/login"):$("#btnAttent").trigger("click")})})}$(document).ready(function(){var t=$(".htmledit_views #main-toc").prevAll("h1,h2,h3"),e=t.length,o=$('.htmledit_views p[id*="-toc"]').slice(1).filter(function(t,e){return $(e).find("a").length||$(e).css({margin:"0"}),$(e).find("a").length});o.each(function(t,o){$(o).attr("id","");var n=$(o).css("margin-left").replace("px","")/40,i=0==n?0:48*n;$(o).css({"padding-left":"24px",margin:"0","margin-left":i+"px","margin-bottom":"2px"}),e>0?($(o).find("a").attr("href","#t"+e),e++):$(o).find("a").attr("href","#t"+t)});var n=$(".markdown_views .toc a");n.length&&n.each(function(t,e){var o=$(e).attr("href");o&&$(e).attr("href",o.replaceAll("%","_"))});var i=$(".markdown_views").find("h1 a,h2 a,h3 a");i.length&&i.each(function(t,e){var o=$(e).attr("id");o&&$(e).attr("id",o.replaceAll("%","_"))}),$(document).on("click","#content_views a[href*=#],div.toc-box a[href*=#],li.tool-item-comment a[href*=#]",function(){var t=$("#csdn-toolbar").height(),e=$(document).scrollTop();if(e<52&&(t=2*t),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var o=$(this.hash);if(o=o.length&&o||$("[name="+this.hash.slice(1)+"]"),o.length){var n=o.offset().top;return $("html,body").animate({scrollTop:n-t},500),!1}}}),setTimeout(function(){if(window.location.href.indexOf("#comments")>-1){var t=$("#csdn-toolbar").height();$("html,body").animate({scrollTop:$("#commentBox").offset().top-t-48},500)}},1e3)})}),$(function(){var t=$('#article_content a[href^="#"]');t.each(function(t){$(this).attr("target","_self")})}),function(){function t(t){var e="";i&&(e="active");var o='<div class="column-group '+e+'" data-id="'+t.communityId+'" data-url="'+t.url+'" data-report-click=\'{"spm":"1001.2101.3001.8542"}\' data-report-view=\'{"spm":"1001.2101.3001.8542"}\'>                    <div class="column-group-item">                      <div class="item-l">                        <a class="item-target" href="javascript:;" title="'+t.title+'">                          <img class="item-target" src="'+t.logo+'" alt="">                          <span class="title item-target">                              <span>                              <span class="tit">'+t.title+'</span>                              <span class="dec">'+t.desc+'</span>                              </span>                          </span>                        </a>                      </div>                      <div class="item-r">                        <a class="item-target article-column-bt join-huawei-community">加入社区</a>                      </div>                    </div>                  </div>';n.innerHTML=o}function e(){$.ajax({url:blogUrl+"phoenix/web/v1/coc-community-info",type:"GET",xhrFields:{withCredentials:!0},data:{articleId:articleId},success:function(e){200==e.code?t(e.data):n.remove()}})}function o(t,e){$.ajax({type:"POST",url:"https://devpress-api.csdn.net/v1/user/follow",contentType:"application/json; charset=utf-8",data:JSON.stringify({followTarget:t,type:1}),xhrFields:{withCredentials:!0},success:function(t){window.open(e)},error:function(t){window.open(e)}})}var n=document.getElementById("blogHuaweiyunAdvert"),i=document.getElementById("blogColumnPayAdvert");n&&(e(),$(document).on("click","#blogHuaweiyunAdvert .column-group",function(){if(getCookie("UserName")){var t=$(this).data("id"),e=$(this).data("url");o(t,e)}else window.csdn.loginBox.show()}))}(),$(".comment-box textarea.comment-content").on("select",function(){textareaPointLocation.setCaret(this)}).on("click",function(){textareaPointLocation.setCaret(this)}).on("keyup",function(){textareaPointLocation.setCaret(this)});var textareaPointLocation={setCaret:function(t){t.createTextRange&&(t.caretPos=document.selection.createRange().duplicate())},insertAtCaret:function(t,e){if(document.all)if(t.createTextRange&&t.caretPos){var o=t.caretPos;o.text=" "==o.text.charAt(o.text.length-1)?e+" ":e}else t.value=e;else if(t.setSelectionRange){var n=t.selectionStart,i=t.selectionEnd,a=t.value.substring(0,n),s=t.value.substring(i);t.value=a+e+s}else showToast({text:"This version of Mozilla based browser does not support setSelectionRange",bottom:"10%",zindex:9e3,speed:500,time:1500})}};$(function(){var t=$("#asideNewNps"),e=$("#asideNewNps .newnps-item"),o=$("#asideNewNps .newnps-form-box");getCookie("blog_details_nps")?t.remove():(t.fadeIn(),e.on("click",function(){$(this).siblings().removeClass("active"),$(this).siblings().find("img.default").show(),$(this).siblings().find("img.active").hide(),$(this).addClass("active"),$(this).find("img.default").hide(),$(this).find("img.active").show(),o.slideDown()}),o.on("click",".newnps-btn",function(e){if(getCookie("UserName")){o.removeClass("active"),showToast({text:"感谢您的意见，我们尽快改进",bottom:"10%",zindex:9002,speed:500,time:1500});var n={spm:"1001.2101.3001.6242",extend1:"博客详情页满意度调查",extra:JSON.stringify({radio:t.find(".newnps-item.active").data("type"),input:o.find(".newnps-input").val()})};setCookieBaseHour("blog_details_nps",(new Date).getTime(),720),window.csdn&&window.csdn.report&&window.csdn.report.reportClick(n),t.slideUp(600,function(){t.remove()})}else window.csdn.loginBox.show()}),o.on("focus",".newnps-input",function(){o.addClass("active")}))}),$(function(){function t(){function t(){$("#publicPrompt").remove(),$(document).off("click",".publicPrompt-close",t),$(document).off("click",".publicPrompt-mask",t)}var e={success:'<svg class="icon success" aria-hidden="true"><use xlink:href="#csdnc-check"></use></svg>'};this.data={},this.data.status="success",this.data.titleStr="收藏成功",this.data.textStr='已收藏至 <a href="https://i.csdn.net/#/uc/favorite-list" target="_blank">个人中心</a>',this.data.imgUrl="",this.init=function(t){return $.extend(this.data,t),this.addStyle(),this.bindDom(),this},this.show=function(t){$.extend(this.data,t),this.insetStructure(this.data)},this.bindDom=function(){$(document).on("click",".publicPrompt-close",t),$(document).on("click",".publicPrompt-mask",t)},this.insetStructure=function(t){var o='<div id="publicPrompt"><div class="publicPrompt-mask"></div><div class="publicPrompt-content"><div class="publicPrompt-title-box"><h3 class="publicPrompt-title">'+e[t.status]+t.titleStr+'</h3><span class="publicPrompt-close"><svg class="icon" aria-hidden="true"><use xlink:href="#csdnc-times"></use></svg></span><div class="publicPrompt-text">'+t.textStr+'</div><img class="publicPrompt-qr" src="'+t.imgUrl+'" alt=""><div class="publicPrompt-footer-text">下载APP随时查看</div></div></div></div>';$("body").append(o)},this.addStyle=function(){var t=document.createElement("style");t.type="text/css",t.innerHTML=["#publicPrompt{","position: fixed;z-index: 99999;top: 0;left: 0;width: 100%;height: 100%;","}","#publicPrompt .publicPrompt-mask{","position: absolute;top: 0;left: 0;width: 100%;height: 100%;","background-color: rgba(0,0,0,0.5);","}","#publicPrompt .publicPrompt-content{","position: absolute;z-index: 2;top: 30%;left: 50%;margin-left: -175px;","background-color: #fff;width: 350px;padding: 16px;","}","#publicPrompt .publicPrompt-content .publicPrompt-title{","font-size: 16px;color: #3D3D3D;","}","#publicPrompt .publicPrompt-title svg{margin-right:4px;}","#publicPrompt .publicPrompt-title .success{fill:#89cb62;width: 20px;height: 20px;vertical-align: sub;}","#publicPrompt .publicPrompt-close{","position: absolute;top: 16px;right: 16px;cursor: pointer;","}","#publicPrompt .publicPrompt-text{","text-align: center;margin-top: 16px;margin-bottom: 16px;font-size: 14px;","}","#publicPrompt .publicPrompt-text a{","color: #3399EA;text-decoration: underline;","}","#publicPrompt .publicPrompt-qr{","display: block;width: 116px;height: 116px;padding: 8px;margin: 0 auto;border: 1px solid #EBEBEB;","}",".publicPrompt-footer-text{","font-size: 14px;color: #4D4D4D;margin-top:8px;text-align: center;","}"].join(""),document.getElementsByTagName("head")[0].appendChild(t)}}window.csdn?window.csdn:{},window.csdn.publicPrompt=t}),$(function(){var t=$("#recommendNps"),e=$("#recommendNps .newnps-item"),o=$("#recommendNps .newnps-form-box");getCookie("blog_details_recommend_nps")?t.remove():(t.fadeIn(),e.on("click",function(){$(this).siblings().removeClass("active"),$(this).siblings().find("img.default").show(),$(this).siblings().find("img.active").hide(),$(this).addClass("active"),$(this).find("img.default").hide(),$(this).find("img.active").show(),o.slideDown()}),o.on("click",".newnps-btn",function(e){if(getCookie("UserName")){o.removeClass("active"),showToast({text:"感谢您的意见，我们尽快改进",bottom:"10%",zindex:9002,speed:500,time:1500});var n={spm:"1001.2101.3001.7836",extend1:"博客详情页相关推荐满意度调查",extra:JSON.stringify({radio:t.find(".newnps-item.active").data("type"),input:o.find(".newnps-input").val()})};setCookieBaseHour("blog_details_recommend_nps",(new Date).getTime(),720),window.csdn&&window.csdn.report&&window.csdn.report.reportClick(n),t.slideUp(600,function(){t.remove()})}else window.csdn.loginBox.show()}),o.on("focus",".newnps-input",function(){o.addClass("active")}))}),$(function(){function t(t,e){r.hide(),m=t,m?c.text("您举报的评论来自文章："):c.text("举报内容："),l.css({"z-index":9999}).show(),s.css({"z-index":1e4}).show()}function e(){s.find("#frmReport").trigger("reset"),l.css({"z-index":150}).hide(),s.hide(),$(".ipt-textarea").val(""),$(".box-botoom ul li").removeClass("box-active"),$(".box-content-bottom ul li").removeClass("box-active"),$(".box-content").eq(0).show().siblings().hide(),$("#cllcont").hide(),$(".content-input").val(""),flag=!1,i="",a=""}function o(t){showToast({text:t,bottom:"10%",zindex:9999,speed:500,time:1500})}var n=' <div class="report-box">  <div class="pos-boxer">      <div class="pos-content">          <div class="box-title">              <p>举报</p>              <img class="icon btn-close" src="'+blogStaticHost+'dist/pc/img/closeBlack.png">          </div>          <div class="box-header">              <div class="box-top"><span>选择你想要举报的内容（必选）</span></div>              <div class="box-botoom">                  <ul>                      <li data="1"  type="nei">内容涉黄</li>                      <li data="2" type="nei">政治相关</li>                      <li data="3" type="nei">内容抄袭</li>                      <li data="4" type="nei">涉嫌广告</li>                      <li data="5" type="nei">内容侵权</li>                      <li data="6" type="nei">侮辱谩骂</li>                      <li data="8" type="nei">样式问题</li>                      <li data="7" type="nei">其他</li>                  </ul>              </div>          </div>          <div>          <div class="box-content" >          </div>          <div class="box-content" >          </div>                    <div class="box-content" style="display:none;">                  <div class="box-content-top">                          <span>原文链接（必填）</span>                      </div>                      <div class="box-content-bottom" style="padding-bottom: 16px;">                        <div class="box-input" style="height: 32px;line-height: 32px;">                        <input class="content-input" type="text" id="originalurl" name="originalurl" placeholder="请输入被侵权原文链接">                        </div>                      </div>          </div>          <div class="box-content" >          </div>          <div class="box-content" style="display:none;">                  <div class="box-content-top">                          <span>请选择具体原因（必选）</span>                      </div>                  <div class="box-content-bottom">                          <ul>                              <li sub_type="1">包含不实信息</li>                              <li sub_type="2">涉及个人隐私</li>                          </ul>                      </div>          </div>          <div class="box-content" style="display:none;">                  <div class="box-content-top">                          <span>请选择具体原因（必选）</span>                      </div>                  <div class="box-content-bottom">                          <ul>                              <li sub_type="1">侮辱谩骂</li>                              <li sub_type="2">诽谤</li>                          </ul>                  </div>          </div>          <div class="box-content" style="display:none;">                <div class="box-content-top">                        <span>请选择具体原因（必选）</span>                    </div>                <div class="box-content-bottom">                        <ul>                            <li sub_type="1">搬家样式</li>                            <li sub_type="2">博文样式</li>                        </ul>                </div>          </div>          <div class="box-content" style="display:none;">          </div>          </div>            <div id="cllcont" style="display:none;">            <div class="box-content-top">              <span class="box-content-span">补充说明（选填）</span>            </div>                <div class="box-content-bottom">                  <div class="box-input" >                    <textarea class="ipt ipt-textarea" style="padding:0;"  name="description"  placeholder="请详细描述您的举报内容"></textarea>                  </div>                </div>            </div>            </div>      <div class="pos-footer">          <p class="btn-close">取消</p>          <p class="box-active">确定</p>      </div>  </div></div>';$("body").append(n);var i="",a="";$(".box-botoom ul li").on("click",function(){flag=!1,$(this).addClass("box-active").siblings().removeClass("box-active"),i=$(this).attr("data"),$(".content-input").val(""),$(".box-content").eq($(this).index()).show().siblings().hide(),"6"==$(this).attr("data")?$("#cllcont").hide():$("#cllcont").show(),"8"==$(this).attr("data")?$("#cllcont").hide():$("#cllcont").show(),$(".ipt-textarea")[0].value="",$(".box-content-bottom ul li").removeClass("box-active"),"7"==$(this).attr("data")?$(".box-content-span").html("补充说明（必填）"):$(".box-content-span").html("补充说明（选填）"),a=""}),$(".box-content-bottom ul li").on("click",function(){$(this).addClass("box-active").siblings().removeClass("box-active"),a=$(this).attr("sub_type"),flag=!0});var s=$("div.report-box"),c=s.find("#reptTit"),l=$("div.mask-dark"),r=$("#rptOriginalurl"),d=s.find('textarea[name="description"]'),m=!1,p=0;s.find(".btn-close").click(e),l.click(e);var u="";$(".box-active").on("click",function(){if(!i)return o("请选择你想要举报的内容！"),!1;switch(i){case"3":if(u=$("#originalurl").val(),""==u||"http://"==u)return o("举报抄袭必须提供原创文章地址！"),$("#originalurl").focus(),!1;break;case"7":if(u=d.val(),!u)return o("请填写补充说明！"),d.focus(),!1;break;case"5":if(!flag)return o("请选择具体原因"),!1;break;case"6":if(!flag)return o("请选择具体原因"),!1;break;case"8":if(!flag)return o("请选择具体原因"),!1}var t={articleId:articleId,commentId:m?p:"",subType:a,type:i,originalUrl:u,description:d.val()},n=m?"report-comment":"report-article";$.ajax({url:blogUrl+"/phoenix/web/v1/"+n,type:"post",dataType:"json",data:t,xhrFields:{withCredentials:!0},success:function(t){200==t.code?(e(),sessionStorage.removeItem("usename"),sessionStorage.removeItem("articleId"),o("感谢您的举报，我们会尽快审核！"),$(".ipt-textarea").val(""),$(".box-botoom ul li").removeClass("box-active"),$(".box-content-bottom ul li").removeClass("box-active"),$(".box-content").eq(0).show().siblings().hide(),$("#cllcont").hide(),$(".content-input").val(""),flag=!1,i="",a="",u="",e()):o("举报失败")}})}),$("div.comment-box").on("click","a.btn-report",function(){p=$(this).parents("li.comment-line-box").data("commentid")}),window.showReport=t}),$(function(){}),$(function(){function t(){$("code.has-numbering").each(function(t,e){$(e).css("position","absolute"),$(e).parent("pre.prettyprint").css({position:"relative",height:$(e).outerHeight()+20+"px"})})}window.csdn=window.csdn?window.csdn:{},window.csdn.setSafariCodestyle=t}),$(function(){0==$(".btn-readmore").length&&($("#content_views").find("pre").each(function(t,e){e=$(e),e.height()>340&&(e.addClass("set-code-hide"),e.append('<div class="hide-preCode-box"><span class="hide-preCode-bt" data-report-view=\'{"spm":"1001.2101.3001.7365"}\'><img class="look-more-preCode contentImg-no-view" src="'+blogStaticHost+"dist/pc/img/newCodeMore"+skinStatus+'.png" alt="" title=""></span></div>'))}),$(document).on("click",".hide-preCode-bt",function(){return $(this).parents("pre").removeClass("set-code-hide"),$(this).parents(".hide-preCode-box").hide().remove(),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.7365"}),!1}))}),$(function(){function t(t,e,n){var i=new Date,a=(i.getTime(),o(i,n)),s=new Date;s.setTime(a),document.cookie=t+"="+e+";expires="+s.toGMTString()+";domain=.csdn.net;path=/"}function e(t){return document.cookie.length>0&&(c_start=document.cookie.indexOf(t+"="),c_start!=-1)?(c_start=c_start+t.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):null}function o(t,e){var o=e.split(":"),n=parseInt(o[0]),i=parseInt(o[1]),a=parseInt(o[2]);t.setHours(n),t.setMinutes(i),t.setSeconds(a);var s=Date.parse(t);return s}var n=$("#overTheScreen"),i=$(".over-the-screen-close");!currentUserName&&showPcWindowAd&&(e("over_the_screen")||(n.fadeIn(),setTimeout(function(){i.fadeIn()},500),t("over_the_screen",(new Date).getTime(),"24:00:00"))),$(".over-the-screen-close").on("click",function(){n.fadeOut()}),document.addEventListener("visibilitychange",function(){n.fadeOut()},!1)}),window.csdn.insertcallbackBlock=computePos,$(function(){function t(){var t=document.referrer;if(t&&!isShowToQuestion&&t.indexOf("so.csdn.net")>-1){var o='<a class="option-box search" data-type="search">        <img src="'+blogStaticHost+'dist/pc/img/sideSearch.png" alt="" srcset="">        <span class="show-txt">搜索</span>      </a>';$(".csdn-side-toolbar").prepend(o);var n='<div class="side-search-box"><div class="side-search-content">          <span class="search-txt">'+s+'</span><span class="search-bt no" data-type="no">否</span><span class="search-bt yes" data-type="yes">是</span>        </div><div>';if($(".csdn-side-toolbar .search").append(n),!getCookie("referrer_search")){var i=0;timer=setInterval(function(){i++,3==i&&$(".side-search-box").fadeIn(1500),7==i&&($(".side-search-box").fadeOut(1500),clearInterval(timer))},1e3),e("referrer_search",(new Date).getTime(),2)}$(".csdn-side-toolbar .search").on("click",function(t){getCookie("referrer_search")||clearInterval(timer),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.5543",dest:articleDetailUrl,extend1:s}),$(".side-search-box").fadeIn(500),setTimeout(function(){$(".side-search-box").fadeOut(1500)},1e4)}),$(".side-search-box .search-bt").on("click",function(t){getCookie("referrer_search")||clearInterval(timer);var e="";e="yes"===$(t.target).data("type")?"yes":"no",window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&(window.csdn.report.reportClick({spm:"1001.2101.3001.5543",dest:articleDetailUrl,extend1:s,ab:e}),t.stopPropagation()),$(".side-search-box .side-search-content").html("感谢您的反馈!").css({width:"92px"}),setTimeout(function(){$(".csdn-side-toolbar .search").fadeOut(800,function(){$(this).remove()})},1e3)})}}function e(t,e,o){var n=new Date;n.setTime(n.getTime()+36e5*o),document.cookie=t+"="+escape(e)+";expires="+n.toGMTString()+";domain=.csdn.net;path=/"}function o(){if(isShowToQuestion){var t='<a class="option-box question" data-type="question" data-report-view=\'{"spm":"1001.2101.3001.6040"}\' data-report-click=\'{"spm":"1001.2101.3001.6040"}\'>        <img class="ask_question_img" style="width:44px;height:44px;display:block" src="'+blogStaticHost+'dist/pc/img/sideQuestion.png" alt="" srcset="">        <span class="show-txt">提问</span>      </a>';$(".csdn-side-toolbar").prepend(t);var e='<div class="side-question-box">          <div class="side-question-content">              <div class="question-tit">CSDN <span class="color">技术专家团</span> 在线答疑</div>              <div class="question-txt"><span class="color">50 </span>位专家有问必答，已及时解决</br><span class="color">1000+</span> 技术难题。 <span class="color">首次免费体验！</span></div>              <a class="question-bt" target="_blank" data-report-click=\'{"spm":"1001.2101.3001.6041"}\' href="https://ask.csdn.net/new?spm=1001.2101.3001.6041">体验有问必答</a>          </div>          <div class="question-tip-box">            <img style="display:block" class="question-tip-img" src="'+blogStaticHost+'dist/pc/img/soundVolume.png" alt="">            <div class="question-tip-content"></div>          </div>          <img style="display:block" class="side-question-bg" src="'+blogStaticHost+'dist/pc/img/monkeyQuestion.png" alt="">          <img style="display:block" data-report-click=\'{"spm":"1001.2101.3001.6042"}\' class="side-question-close fade-question-box" src="'+blogStaticHost+'dist/pc/img/closeQuestion.png" alt="">      </div>',o="";
$.each(m,function(t,e){o+='<div class="question-tip-txt">          <span class="time" >'+e.time+'</span>          <span class="name">'+e.username+'</span>          <span class="text">解决了问题:</span>          <span class="question">'+e.question+"</span>        </div>"}),$(".csdn-side-toolbar .question").append(e),$(".csdn-side-toolbar .question-tip-content").append(o),$(".question-tip-txt:first").siblings().hide(),setInterval(function(){$(".question-tip-txt:visible").slideUp("slow",function(){void 0===$(this).next(".question-tip-txt")[0]?$(".question-tip-txt:first").fadeIn("slow"):$(this).next(".question-tip-txt").fadeIn("slow")})},2e3);var i=document.documentElement.scrollTop||document.body.scrollTop;n(i,d)}}function n(t,e){c&&t>.5*e&&$(".csdn-side-toolbar .side-question-box").length>0&&(getCookie("blog_ask_question")||($(".csdn-side-toolbar .side-question-box").fadeIn(),r&&(window.csdn.report&&"function"==typeof window.csdn.report.reportView&&window.csdn.report.reportView({spm:"1001.2101.3001.6041"}),r=!1)))}function i(){if(isShowConcision){var t='<a class="option-box sidecolumn sidecolumn-show" data-type="show" style="display:'+(isShowSideModel?"flex":"none")+'" data-report-view=\'{"spm":"1001.2101.3001.7788"}\' data-report-click=\'{"spm":"1001.2101.3001.7788"}\'>        <img src="'+blogStaticHost+'dist/pc/img/iconShowSide.png" alt="" srcset=""><img style="display:block" class="icon-option-beta" src="'+blogStaticHost+'dist/pc/img/iconSideBeta.png" alt="" srcset="">        <span class="show-txt">显示</br>侧栏</span>      </a>',e='<a  class="option-box sidecolumn sidecolumn-hide" data-type="hide" style="display:'+(isShowSideModel?"none":"flex")+'" data-report-view=\'{"spm":"1001.2101.3001.7789"}\' data-report-click=\'{"spm":"1001.2101.3001.7789"}\'>        <img src="'+blogStaticHost+'dist/pc/img/iconHideSide.png" alt="" srcset=""><img style="display:block" class="icon-option-beta" src="'+blogStaticHost+'dist/pc/img/iconSideBeta.png" alt="" srcset="">        <span class="show-txt">隐藏</br>侧栏</span>      </a>';$(".csdn-side-toolbar").prepend(t+e)}}function a(){if(isShowConcision&&isHasDirectoryModel){var t='<a class="option-box directory directory-show" data-type="show" style="display:'+(isShowDirectoryModel?"flex":"none")+'" data-report-view=\'{"spm":"1001.2101.3001.7790"}\' data-report-click=\'{"spm":"1001.2101.3001.7790"}\'>        <img src="'+blogStaticHost+'dist/pc/img/iconShowDirectory.png" alt="" srcset=""><img style="display:block" class="icon-option-beta" src="'+blogStaticHost+'dist/pc/img/iconSideBeta.png" alt="" srcset="">        <span class="show-txt">只看</br>目录</span>      </a>',e='<a  class="option-box directory directory-hide" data-type="hide" style="display:'+(isShowDirectoryModel?"none":"flex")+'" data-report-view=\'{"spm":"1001.2101.3001.7791"}\' data-report-click=\'{"spm":"1001.2101.3001.7791"}\'>        <img src="'+blogStaticHost+'dist/pc/img/iconHideDirectory.png" alt="" srcset=""><img style="display:block" class="icon-option-beta" src="'+blogStaticHost+'dist/pc/img/iconSideBeta.png" alt="" srcset="">        <span class="show-txt">隐藏</br>目录</span>      </a>';$(".csdn-side-toolbar").prepend(t+e)}}getSideToolbarTime=setInterval(function(){$(".csdn-side-toolbar").length>0&&(clearInterval(getSideToolbarTime),t(),o(),i(),a())},1e3);var s="此内容解决你搜索的问题？";"control"===showSearchText&&(s="此内容是您要找的内容？"),"secondText"===showSearchText&&(s="此内容解决你搜索的问题？");var c=!0,l=!0,r=!0,d=document.documentElement.clientHeight,m=[{time:"5分钟前",username:"java小白_李同学",question:"给数组扩容失败求解答"},{time:"7分钟前",username:"叮当猫的风筝",question:"SSD训练迭代过程突然停止"},{time:"8分钟前",username:"不取名字了吧",question:"python selenium库相关函数在哪里找"},{time:"10分钟前",username:"冉水",question:"Vue使用Axios通过post方式访问后台，为什么后台获取不到传递过来的参数？"},{time:"12分钟前",username:"一袖如何两青蛇",question:"求解：为什么我的jupyter notebook无法运行代码"},{time:"13分钟前",username:"m0_53936501",question:"有关c++的一个问题不知哪里出错了求教？"},{time:"14分钟前",username:"zzzlj1",question:"利用指针编写程序，对具有6个元素的整型数组，找出其中最大值并计算出该数组的平均数。怎么写呀？"},{time:"20分钟前",username:"见过自讼",question:"关于java实现对象型数组的一个问题"},{time:"22分钟前",username:"chaochaoyaya",question:"C++中存入的数据和实际输出流的数据不一致，请教各位大佬这个如何解决呢？"},{time:"27分钟前",username:"赶鸭子",question:"如何求集合之间的交集（重复元素）?"},{time:"32分钟前",username:"iamalarak",question:"pip装不了东西，求教"},{time:"38分钟前",username:"nibiru0810",question:"PIP warning Ignoring Invalid distribution"},{time:"42分钟前",username:"godiegodieover",question:"PTA练习 C语言 删除行末空白字符"},{time:"50分钟前",username:"Playing with fire",question:"急救 vc代码应该怎样修改"},{time:"53分钟前",username:"weixin_39052466",question:"求教，C#调用C++dll接口出现问题，参数定义是否正确，调用方式是否正确"},{time:"1小时前",username:"小肥宅子",question:"Integer.parseInt()转换String类型 抛异常"},{time:"1小时前",username:"超哥",question:"女程序员提问：女程序员后台Java开发真的有描述的那么吃香么？之前被拒就是不要女性"},{time:"2小时前",username:"悠然岁月",question:"原代码复制重写，报以下错误，我也很奇怪这个dict到底是谁，怎么来的，传什么参？"},{time:"2小时前",username:"",question:"使用pip命令提示WARNING: Ignoring invalid distribution"}];window.onscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;n(t,d)},$(document).on("click",".csdn-side-toolbar .fade-question-box",function(){$(".csdn-side-toolbar .side-question-box").fadeOut(),e("blog_ask_question",(new Date).getTime(),72),c=!1}),$(document).on("mouseenter",".csdn-side-toolbar .question",function(t){$(".csdn-side-toolbar .side-question-box").fadeIn(),$(t.target).hasClass("ask_question_img")&&l&&"block"==$(".csdn-side-toolbar .side-question-box").css("display")&&(window.csdn.report&&"function"==typeof window.csdn.report.reportView&&window.csdn.report.reportView({spm:"1001.2101.3001.6041"}),l=!1)}),$(document).on("mouseleave",".csdn-side-toolbar .question",function(t){l=!0}),$(document).on("click",".csdn-side-toolbar .question",function(t){window.open("https://ask.csdn.net/new?spm=1001.2101.3001.6040")}),$(document).on("click",".csdn-side-toolbar .side-question-box",function(t){t.stopPropagation()}),$(document).on("click",".csdn-side-toolbar .sidecolumn",function(t){var e=$(this).data("type");"show"==e?(isShowDirectoryModel||($("#rightAsideConcision").removeClass("show-directory"),$(".directory.directory-hide").hide(),$(".directory.directory-show").show()),isShowSideModel=!1,$(".main_father").removeClass("mainfather-concision"),$(".main_father .container").removeClass("container-concision"),$(".sidecolumn.sidecolumn-show").hide(),$(".sidecolumn.sidecolumn-hide").show(),setCookieBaseHour("blog_details_concision",(new Date).getTime(),24)):(isShowDirectoryModel||($("#rightAsideConcision").addClass("show-directory"),$(".directory.directory-hide").show(),$(".directory.directory-show").hide()),$(".main_father").addClass("mainfather-concision"),$(".main_father .container").addClass("container-concision"),isShowSideModel=!0,$(".sidecolumn.sidecolumn-hide").hide(),$(".sidecolumn.sidecolumn-show").show(),setCookieBaseHour("blog_details_concision",0,24))}),$(document).on("click",".csdn-side-toolbar .directory",function(t){var e=$(this).data("type");"show"==e?(isShowSideModel||($("#rightAsideConcision").addClass("show-directory"),$(".main_father").addClass("mainfather-concision"),$(".main_father .container").addClass("container-concision"),$(".sidecolumn.sidecolumn-hide").hide(),$(".sidecolumn.sidecolumn-show").show()),isShowDirectoryModel=!1,$(".directory.directory-show").hide(),$(".directory.directory-hide").show(),$("#rightAsideConcision").addClass("show-directory")):(isShowDirectoryModel=!0,$(".directory.directory-hide").hide(),$(".directory.directory-show").show(),$("#rightAsideConcision").removeClass("show-directory")),setCookieBaseHour("blog_details_concision",0,24)})});var getRecommendListUrlArr=null;$("#recommend-item-box-tow").children().length<=0&&$("#recommend-item-box-tow").remove(),baiduKey?csdn.afterCasInit=function(t,e){if(!t)return!1;var o="";4==articleSource&&$("#recommendDown .recommend_down").length<=0?csdn.baiduSearch(t,function(e){if(needInsertBaidu&&isRecommendModule)if(e&&e.length)showDownRecommend(e[0]);else{var n=$(".recommend-box .type_download")[0];if(n&&$(n).length){var i=$(n).find("a")[0],a={linkUrl:$(n).data("url"),title:$(i).text()};showDownRecommend(a)}}csdn.baiduSearch(t,function(t){needInsertBaidu&&isRecommendModule?(showResult(t,o),getQueryIdx()):getQueryIdx()})},"download.csdn.net"):csdn.baiduSearch(t,function(t){needInsertBaidu&&isRecommendModule?(showResult(t,o),getQueryIdx()):getQueryIdx()})}:getQueryIdx();var articleTitleContent=$("#articleContentId").text().replace(/[`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、<em><\/em>&quot;]/g,"").replace(/\s/g,"").toLowerCase();$(function(){function t(t){new QRCode(document.getElementById("shareCode"),{text:t,width:144,height:144,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}function e(){$.ajax({url:blogUrl+"phoenix/web/v1/share/get-tiny-url",type:"GET",xhrFields:{withCredentials:!0},data:{type:"article",username:username,articleId:articleId},success:function(e){200==e.code?(F=e.data.url,t(e.data.url),U=!0,setTimeout(function(){$("#tool-QRcode").show()},100)):i(!1,e.message)}})}function o(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.remove()}function n(){var t=$("#toolBarBox").offset().top,e=$("#toolBarBox").offset().left,o=$(".left-toolbox").height(),n=$("#toolBarBox").width(),i=window.innerHeight,a=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;t+o-i-a>0?($("#toolBarBox .left-toolbox").css({position:"fixed","z-index":"999",left:e+"px",bottom:"0",width:n+"px"}),$("#toolBarBox").addClass("more-toolbox-active")):($("#toolBarBox .left-toolbox").css({position:"relative","z-index":"999",left:"0px",bottom:"0",width:n+"px"}),$("#toolBarBox").removeClass("more-toolbox-active"))}function i(t,e){if(z.skinBoxshadow.html(""),t){var o='<div class="reward-success reward-tip">    <svg t="1513153231313" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4182" id="mx_n_1513153231314" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m244.8 392L467.2 691.2c-8 9.6-24 12.8-36.8 12.8-12.8 0-27.2-3.2-36.8-12.8L267.2 560c-16-16-16-43.2 0-59.2s41.6-16 57.6 0l105.6 110.4 267.2-278.4c16-16 41.6-16 57.6 0s16 43.2 1.6 59.2z" p-id="4183" fill=""></path></svg>    <span>'+e+"</span>    </div>";z.skinBoxshadow.append(o)}else{var n='<div class="reward-error reward-tip">    <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>    <span>'+e+"</span>    </div>";z.skinBoxshadow.append(n)}z.skinBoxshadow.fadeIn(200),setTimeout(function(){z.skinBoxshadow.fadeOut(200),z.skinBoxshadow.html("")},1500)}function a(t,e){e?t.addClass("active"):t.removeClass("active")}function s(t){getCookie("UserName")?$.ajax({url:blogUrl+"/phoenix/web/v1/article/like",type:"post",dataType:"json",data:{articleId:articleId},xhrFields:{withCredentials:!0},success:function(e){if(200==e.code){if(e.data.status)$("#is-like-img").hide(),$("#is-like-imgactive").show(),isLikeStatus=!0,isUnLikeStatus&&t&&c(!1),a($("#spanCount"),!0),$("#spanCount")[0].style="color:#fc5531 !important;",window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1582594662_001",spm:"1001.2101.3001.4241",dest:"",extend1:'{"praise":1}'});else{$("#is-like-imgactive").hide(),$("#is-like-img").show(),isLikeStatus=!1,t&&c(!1),a($("#spanCount"),!1);var o="color:#999999 !important;";"Black"===skinStatus&&(o="color:#ccccd8 !important;"),$("#spanCount")[0].style=o,window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1582594662_001",spm:"1001.2101.3001.4241",dest:"",extend1:'{"praise":0}'})}$("#spanCount").text(e.data.like_num>0?e.data.like_num:"")}else i(!1,e.message);B()}}):window.csdn.loginBox.show()}function c(t){getCookie("UserName")?$.ajax({url:blogUrl+"/phoenix/web/v1/article/bury",type:"post",dataType:"json",data:{articleId:articleId},xhrFields:{withCredentials:!0},success:function(e){200==e.code?e.data.status?($("#is-unlike-img").hide(),$("#is-unlike-imgactive").show(),isUnLikeStatus=!0,isLikeStatus&&t&&s(!1),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.6669",extend1:'{"praise":1}'})):($("#is-unlike-imgactive").hide(),$("#is-unlike-img").show(),isUnLikeStatus=!1,t&&s(!1),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.6669",extend1:'{"praise":0}'})):i(!1,e.message)}}):window.csdn.loginBox.show()}function l(){window.csdn.userLogin.loadAjax(function(t){$.ajax({url:blogUrl+"/phoenix/web/v1/collect",dataType:"json",type:"POST",xhrFields:{withCredentials:!0},data:{articleId:articleId},success:function(t){200===t.code&&r(t.data.status)},error:function(){}})})}function r(t){t?($("#is-collection-imgactive").show(),$("#is-collection-img").hide(),a($("#get-collection"),!0),$("#is-collection").text("已收藏"),$("#blog_detail_zk_collection .un-collect-status").hide(),$("#blog_detail_zk_collection .collect-status").show(),$("#blog_detail_zk_collection span.name").text("已收藏"),j&&(j=!1,$(".get-collection").text()?$(".get-collection").text(1*$("#get-collection").text()+1):$(".get-collection").text("1"))):($("#is-collection-imgactive").hide(),$("#is-collection-img").show(),$("#is-collection").text("收藏"),a($("#get-collection"),!1),"White"==skinStatus?$(".get-collection").css({color:"#999aaa"}):$(".get-collection").css({color:"#999999"}),$("#blog_detail_zk_collection .un-collect-status").show(),$("#blog_detail_zk_collection .collect-status").hide(),$("#blog_detail_zk_collection span.name").text("收藏"),j=!0,$(".get-collection").text()?1*$("#get-collection").text()-1<=0?$(".get-collection").text(""):$(".get-collection").text(1*$("#get-collection").text()-1):$(".get-collection").text("")),B()}function d(){getCookie("UserName")?window.csdn.collectionBox.show(window.csdn.collectionBox.params):window.csdn.loginBox.show()}function m(){if(getCookie("UserName")){var t=articleDetailUrl.split("/article/details/")[1];$.ajax({url:blogUrl+"phoenix/web/v1/isCollect",type:"GET",xhrFields:{withCredentials:!0},data:{articleId:t},success:function(t){200==t.code&&t.data.status?($("#is-collection-img").hide(),$("#is-collection-imgactive").show(),a($(".get-collection"),!0),$("#blog_detail_zk_collection .un-collect-status").hide(),$("#blog_detail_zk_collection .collect-status").show(),$("#blog_detail_zk_collection span.name").text("已收藏"),j=!1):($("#is-collection-img").show(),$("#is-collection-imgactive").hide(),a($(".get-collection"),!1),$("#blog_detail_zk_collection .un-collect-status").show(),$("#blog_detail_zk_collection .collect-status").hide(),$("#blog_detail_zk_collection span.name").text("收藏")),B()}})}}function p(t,e,o){o.length&&$.ajax({type:"GET",url:blogUrl+t,dataType:"json",xhrFields:{withCredentials:!0},data:{articleId:articleId},success:function(t){200==t.code&&e(t.data,o)},error:function(t){}})}function u(t,e){var o="";if(t.list&&t.list.length){if(o='<div class="reward-left">',$.each(t.list,function(t,e){t<10&&(o+='<a class="reward-href" target="_blank" href="'+blogUrl+e.username+'"><img src="'+e.avatarUrl+'" alt=""></a>')}),o+="</div>",o+='<div class="reward-right">'+(t.total>10?"等":"")+'<span class="count">'+t.total+"</span>人已打赏</div>",e.html(o),z.rewardContent.show(),z.initHeighgt=50,f())var n=422;else var n=521;$(".tool-item-reward .count").html(t.total),z.rewardNew.css({"max-height":n+z.initHeighgt+"px"})}else z.rewardContent.hide(),z.initHeighgt=0}function h(t,e){Number(t)-Number(e)<0?z.sureBoxBlance.addClass("active"):z.sureBoxBlance.removeClass("active")}function g(){$.ajax({url:"https://mall.csdn.net/mp/mallorder/api/internal/wallet/polymerize",type:"GET",xhrFields:{withCredentials:!0},success:function(t){200==t.code&&t.data&&t.data.balance&&(z.blance=t.data.balance.normalAmount,z.domBlance.html("(余额：¥"+z.blance+" )"),h(z.blance,z.moneyNum))}})}function f(){var t=0;return z.payType.each(function(e,o){if($(o).hasClass("active"))return void(t=e)}),"blance"===z.payType.eq(t).data("type")}function v(t){z.sureBoxBlance.find(".tip").removeAttr("style",""),t.value||(t.value=2),z.moneyNum=t.value,h(z.blance,z.moneyNum),z.codeNum.html("¥"+z.moneyNum),0<Number(z.moneyNum)<=500?f()||w():z.customizeTip.fadeIn(1e3,function(){z.customizeTip.fadeOut(1e3)})}function w(){if(initRewardObject&&""!=initRewardObject.sign){var t={product_id:72029,goods_id:77957,num:Number(z.moneyNum),flag:39,request_type:4,is_use_balance:0,ext:initRewardObject,stringExt:JSON.stringify(initRewardObject),success_function:k,error_function:x,timeout_function:y,get_pay_success_callback:_,payment_function:b};z.codeImgBox.html(z.payrun),cart.qrPay(t)}else showToast({text:"打赏信息失效，请刷新页面重试",bottom:"10%",zindex:9002,speed:500,time:1500})}function b(){imgsrc="https://csdnimg.cn/release/download/images/pay_error.png",imgtext="已扫码<br>请在手机端操作",z.codeImgBox.html('<div class="renovate"><img src="'+imgsrc+'"><span>'+imgtext+"</span></div>")}function x(t){showToast({text:t.errorMessage,bottom:"10%",zindex:9002,speed:500,time:1500})}function y(){z.codeImgBox.html(z.repeatAgain)}function C(t,e){var o=qrcode(6,"M");o.addData(t),o.make(),e.html(o.createImgTag(3,3))}function k(t,e){C(e.pay_url,z.codeImgBox)}function _(){z.rewardNew.fadeOut(),z.skinBoxshadow.html("");var t='<img style="position:fixed;margin:auto;left:0px;top:0px;right:0px;bottom:0px" src="'+blogStaticHost+'dist/pc/img/newRewardSuccess.gif" alt="打赏" title="打赏">';z.skinBoxshadow.append(t),setTimeout(function(){p(z.ajaxRewardUrl,u,z.rewardContent),z.skinBoxshadow.fadeOut(200),z.skinBoxshadow.html("")},4e3)}function S(t){if(getCookie("UserName")){var e=$(".tool-attend");e.is(".tool-unbt-attend")?(e.removeClass("tool-unbt-attend").addClass("tool-bt-attend").text("关注"),A&&(window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1592215036_002",spm:"1001.2101.3001.4132",extend1:"已关注"}),A=!1)):(e.removeClass("tool-bt-attend").addClass("tool-unbt-attend").text("已关注"),A&&(window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1592215036_002",spm:"1001.2101.3001.4132",extend1:"关注"}),A=!1))}else window.csdn.loginBox.show();B()}function B(){if("block"===$("#is-like-imgactive").css("display")&&"block"===$("#is-collection-imgactive").css("display")&&$(".tool-unbt-attend").length>0){if($("#health-companies").length){$("#health-companies").removeClass("active");var t=$("#health-companies").attr("src");t.indexOf("Default")>-1?$("#health-companies").attr("src",t):$("#health-companies").attr("src",t.replace("Active","Default"))}}else if($("#health-companies").length){$("#health-companies").addClass("active");var t=$("#health-companies").attr("src");t.indexOf("Default")>-1?$("#health-companies").attr("src",t.replace("Default","Active")):$("#health-companies").attr("src",t)}}function T(t,e){e.indexOf("White")>-1?t.attr("src",e.replace("White","Black")):t.attr("src",e.replace("Black","White"))}$(document).on("mouseover",".article-bar-top .time",function(){if($(".article-info-box .up-time").length){var t=$(this).offset().left,e=($(this).width(),$(this).parents().find(".article-bar-top").offset().left);$(".article-info-box .up-time").css({left:t-e-20}).show()}}),$(document).on("mouseout",".article-bar-top .time",function(){$(".article-info-box .up-time").length&&$(".article-info-box .up-time").hide()});var I=!0;$(document).on("click",".article-info-box .slide-toggle",function(){I?$(this).text("收起"):$(this).text("版权"),$(this).parents(".article-info-box").find(".slide-content-box").slideToggle(),I=!I});var N='{"mod":"1585297308_001","spm":"1001.2101.3001.6548","dest":"'+articleDetailUrl+'","extend1":"pc","ab":"new"}';canRead&&($(".hide-article-box").length?$(document).on("click",".hide-article-box .btn-readmore",function(){$("#content_views").after("<div data-report-view="+N+"><div>")}):$("#content_views").after("<div data-report-view="+N+"><div>")),$("#blog_detail_zk_collection").click(function(){window.csdn.articleCollection()});var P=!0,U=!1,F="";$("#copyPosterUrl").on("click",function(){F&&(o(F),showToast({text:"文章链接已复制",bottom:"10%",zindex:9002,speed:500,time:1500}))}),$("#tool-share").on({mouseover:function(){P?(e(),P=!1):U&&$("#tool-QRcode").show()},mouseout:function(){$("#tool-QRcode").hide()}}),$("#tool-reward").on("click",function(){$("#reward").show()});var L=$("#tool-downloadpdf");L.length>0&&L.on("click",function(){setTimeout(function(){$(".blog-content-box").print()},500)}),$("#is-like").on("click",function(){isUnLikeStatus?c(!0):s(!1)}),$("#is-unlike").on("click",function(){isLikeStatus?s(!0):c(!1)}),$("#btn-readmore-zk").on("click",function(){$("#btn-readmore").show()}),$("#btn-readmore").on("click",function(){var t=$(window).height();t*$(this).attr("height");$(".hide-article-box").show(),$("div.article_content")[0].style="height:2000px; overflow: hidden;",n(),$("#btn-readmore").hide(),$(".btn-readmore-gz")&&$(".btn-readmore-gz span").text("阅读全文")}),$(document).on("click",".is-collection",function(){getCookie("UserName")?window.csdn.collectionBox.show(window.csdn.collectionBox.params):window.csdn.loginBox.show()}),$(document).on("click",".tool-more .article-report",function(){getCookie("UserName")?showReportNew(!1,articleTitles):window.csdn.loginBox.show()}),n(),$(window).scroll(function(){n()}),$(window).resize(function(){n()}),$(document).on("click",".csdn-side-toolbar .option-box",function(t){isShowConcision&&setTimeout(function(){n()},100)}),$(".btn-readmore").click(n),""!==articleDetailUrl||void 0!==articleDetailUrl?collectionUrl=articleDetailUrl:collectionUrl=curentUrl;var j=!0;window.csdn.collectionBox.params={url:collectionUrl,title:articleTitle,description:articleDesc,author:username,source_id:articleId,source:"blog",collectionCallBack:function(t){r(t)}},window.csdn=window.csdn?window.csdn:{},window.csdn.articleCollection=d,m();var z={blance:"",rewardBtNew:$("#rewardBtNew"),rewardNew:$("#rewardNew"),rewardContent:$(".reward-box-new .reward-content"),skinBoxshadow:$(".skin-boxshadow"),rewardClose:$(".reward-popupbox-new .reward-close"),sureBoxBlance:$(".reward-popupbox-new .sure-box-blance"),moneyNum:2,payType:$(".reward-popupbox-new .pay-type"),domBlance:$(".reward-popupbox-new .pay-type-num"),rewardBt:$(".reward-popupbox-new .reward-sure"),chooseMoney:$(".reward-popupbox-new .choose-money"),customizeMoney:$(".reward-popupbox-new .customize-money"),customizeTip:$(".reward-popupbox-new .customize-tip"),isShowCode:$(".reward-popupbox-new .sure-box-money"),codeNum:$(".reward-popupbox-new .code-num"),codeImgBox:$(".reward-popupbox-new .code-img-box"),payrun:'<div class="renovate"><img src="'+blogStaticHost+'dist/pc/img/pay-time-out.png"><span>获取中</span></div>',repeatAgain:'<div class="renovate"><img src="'+blogStaticHost+'dist/pc/img/pay-time-out.png"><span>点击重新获取</span></div>',ajaxRewardUrl:"phoenix/web/v1/reward/article-users",initHeighgt:0};z.rewardBtNew.on({click:function(){getCookie("UserName")?getCookie("UserName")!==username?(p(z.ajaxRewardUrl,u,z.rewardContent),g(),z.skinBoxshadow.fadeIn(),z.rewardNew.fadeIn()):showToast({text:"自己不能打赏自己",bottom:"10%",zindex:9002,speed:500,time:1500}):window.csdn.loginBox.show()}}),z.rewardClose.on("click",function(t){z.rewardNew.fadeOut(),z.skinBoxshadow.fadeOut();var e=t||window.e;e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}),z.payType.click(function(){z.payType.removeClass("active"),$(this).addClass("active"),f()?(h(z.blance,z.moneyNum),z.isShowCode.slideUp(500),z.sureBoxBlance.slideDown(500,function(){z.sureBoxBlance.find(".tip").html('您的余额不足，请更换扫码支付或<a target="_blank" data-report-click=\'{"mod":"1597646289_003","spm":"1001.2101.3001.4302"}\' href="https://i.csdn.net/#/wallet/balance/recharge?utm_source=RewardVip" class="go-invest">充值</a>')}),z.rewardNew.animate({"max-height":422+z.initHeighgt+"px"},500)):(z.codeNum.html("¥"+z.moneyNum),z.sureBoxBlance.find(".tip").html(""),z.isShowCode.slideDown(500),z.sureBoxBlance.slideUp(500),z.rewardNew.animate({"max-height":521+z.initHeighgt+"px"},500),w())}),z.chooseMoney.click(function(){z.chooseMoney.removeClass("choosed"),z.customizeMoney.removeClass("active"),z.customizeMoney.attr("placeholder","自定义"),z.customizeMoney.val(""),$(this).addClass("choosed"),z.moneyNum=$(this).data("id"),z.codeNum.html("¥"+z.moneyNum),f()?h(z.blance,z.moneyNum):w()}),z.customizeMoney.on({focus:function(){z.chooseMoney.removeClass("choosed"),$(this).addClass("active"),$(this).attr("placeholder","1-500"),f()&&(z.sureBoxBlance.addClass("active"),z.sureBoxBlance.find(".tip").css({display:"none"}))},keyup:function(){$(this)[0].value=$(this)[0].value.replace(/^(0+)|[^\d]+/g,""),$(this)[0].value?($(this)[0].value>500&&($(this)[0].value=2,z.customizeTip.fadeIn(1e3,function(){z.customizeTip.fadeOut(1e3)})),h(z.blance,$(this)[0].value),z.sureBoxBlance.find(".tip").removeAttr("style","")):f()&&(z.sureBoxBlance.addClass("active"),z.sureBoxBlance.find(".tip").css({display:"none"}))},blur:function(){v($(this)[0])}}),z.customizeMoney.on("keydown",function(t){var e=t||event;13==e.which&&v($(this)[0])}),z.rewardBt.on("click",function(t){if(getCookie("UserName"))if(initRewardObject&&""!=initRewardObject.sign){if(!z.sureBoxBlance.hasClass("active")&&"none"!==z.sureBoxBlance.css("display")&&f&&0<Number(z.moneyNum)<500){var e={product_id:72029,goods_id:77957,num:Number(z.moneyNum),flag:39,request_type:4,is_use_balance:2,ext:initRewardObject,stringExt:JSON.stringify(initRewardObject)};$.ajax({url:"https://mall.csdn.net/mp/mallorder/order/quickBuy",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(e),xhrFields:{withCredentials:!0},success:function(t){t.code?_():400103012===res.code&&showToast({text:"余额不足，请选择其他支付方式",bottom:"10%",zindex:9002,speed:500,time:1200})}})}}else showToast({text:"打赏信息失效，请刷新页面重试",bottom:"10%",zindex:9002,speed:500,time:1500});else window.csdn.loginBox.show()}),z.codeImgBox.on("click",".renovate",function(){w()});var A=!1;$("#btnAttent").on("click",function(){S()}),$(".tool-attend").on("click",function(t){t.originalEvent&&(A=!0),$("#btnAttent").trigger("click")}),$("#health-companies").on("click",function(){getCookie("UserName")?$(this).hasClass("active")&&(window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.4429"}),"block"==$("#is-like-img").css("display")&&(isUnLikeStatus?c(!0):s(!1)),"block"==$("#is-collection-img").css("display")&&l(),$(".tool-bt-attend").length>0&&($(".tool-attend").trigger("click"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1592215036_002",spm:"1001.2101.3001.4132",extend1:"关注"})),$("#is-like-imgactive-animation-like").show().addClass("active-animation"),$("#is-collection-img-collection").show().addClass("active-animation"),$(".tool-item-follow").show().addClass("active-animation"),setTimeout(function(){$("#is-like-imgactive-animation-like").hide().removeClass("active-animation"),$("#is-collection-img-collection").hide().removeClass("active-animation"),$(".tool-item-follow").hide().removeClass("active-animation")},800)):window.csdn.loginBox.show()});var D=!0;$(".toolbox-list a.tool-item-href").on({mouseover:function(){if(D){var t=$(this).find("img.isdefault"),e=$(this).find("span.count"),o=t.attr("src");T(t,o),"block"==t.css("display")?"White"==skinStatus?e.css({color:"#999999"}):e.css({color:"#999aaa"}):e.css({color:"#fc5531"}),D=!D}},mouseout:function(){if(!D){var t=$(this).find("img.isdefault"),e=$(this).find("span.count"),o=t.attr("src");T(t,o),"block"==t.css("display")?"White"==skinStatus?e.css({color:"#999aaa"}):e.css({color:"#999999"}):e.css({color:"#fc5531"}),D=!D}}})}),$(function(){function t(t,e){var o=6,n=new Date;n.setTime(n.getTime()+36e5*o),document.cookie=t+"="+escape(e)+";expires="+n.toGMTString()+";domain=.csdn.net;path=/"}function e(t){var e,o=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(o))?unescape(e[2]):null}if(!currentUserName){var o=$("div.article_content"),n=o.offset().top,i=o.height(),a=document.body.clientHeight||document.documentElement.clientHeight,s=$(document).scrollTop();$(document).scroll(function(){s=$(document).scrollTop(),e("unlogin_scroll_step")||e("UserName")||showPcWindowAd||(s+a-n>i/2||s+a-n>2*a)&&(window.csdn.loginBox.show(),t("unlogin_scroll_step",(new Date).getTime()))})}}),"undefined"!=typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){return"undefined"==typeof Chart?void("undefined"!=typeof console&&console.log("ERROR: You must include chart.min.js on this page in order to use Chart.js")):void[].forEach.call(document.querySelectorAll("div.chartjs"),function(t){var e,o;e="undefined"!=typeof chartjs_colors?chartjs_colors:"undefined"!=typeof chartjs_colors_json?JSON.parse(chartjs_colors_json):{fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,0.8)",highlightFill:"rgba(151,187,205,0.75)",highlightStroke:"rgba(151,187,205,1)",data:["#B33131","#B66F2D","#B6B330","#71B232","#33B22D","#31B272","#2DB5B5","#3172B6","#3232B6","#6E31B2","#B434AF","#B53071"]},o="undefined"!=typeof chartjs_config?chartjs_config:"undefined"!=typeof chartjs_config_json?JSON.parse(chartjs_config_json):{Bar:{animation:!1},Doughnut:{animateRotate:!1},Line:{animation:!1},Pie:{animateRotate:!1},PolarArea:{animateRotate:!1}};var n=t.getAttribute("data-chart"),i=JSON.parse(t.getAttribute("data-chart-value"));if(i&&i.length&&n){t.innerHTML="";var a=document.createElement("canvas");a.height=t.getAttribute("data-chart-height"),t.appendChild(a);var s=document.createElement("div");s.setAttribute("class","chartjs-legend"),t.appendChild(s);var c,l=a.getContext("2d"),r=new Chart(l);if("bar"!=n)for(c=0;c<i.length;c++)i[c].color=e.data[c],i[c].highlight=e.data[c];if("bar"==n||"line"==n){var d={datasets:[{label:"",fillColor:e.fillColor,strokeColor:e.strokeColor,highlightFill:e.highlightFill,highlightStroke:e.highlightStroke,data:[]}],labels:[]};for(c=0;c<i.length;c++)i[c].value&&(d.labels.push(i[c].label),d.datasets[0].data.push(i[c].value));s.innerHTML=""}"bar"==n?r.Bar(d,o.Bar):"line"==n?r.Line(d,o.Line):"polar"==n?s.innerHTML=r.PolarArea(i,o.PolarArea).generateLegend():"pie"==n?s.innerHTML=r.Pie(i,o.Pie).generateLegend():s.innerHTML=r.Doughnut(i,o.Doughnut).generateLegend()}})}),$(function(){new CSDNviewImg("#content_views");linkPage&&window.csdn.middleJump?window.csdn.middleJump({el:"#content_views",url:"https://link.csdn.net"}):$("#content_views").find("a").click(function(t){if(this.href&&"_self"!==this.target){t.preventDefault();var e=window.open(this.href,"_blank");e.focus()}})}),$(function(){function t(t,e,n){$.get(blog_address+"/phoenix/article/privacy?articleId="+t+"&index="+e+"&reason="+n,function(t){var e=t;e.result?(alert("文章已私密！"),location.reload()):e.content?o(e.content):alert("无法私密，请到后台私密！")})}function o(t){$(".super-private").hide(),$(".private-error").height(126).show().children(".private-content").text(t)}function n(){$(".private-form").removeClass("active").addClass("no-active")}var a={markdown_line:function(){$(".markdown_views pre").addClass("prettyprint"),$("pre.prettyprint code").each(function(){var t=$(this).text().split("\n").length+($(this).hasClass("hljs")?1:0),e=$("<ul/>").addClass("pre-numbering").hide();for($(this).addClass("has-numbering").parent().append(e),
i=1;i<t;i++)e.append($("<li/>").text(i));e.fadeIn(1700)}),$(".pre-numbering li").css("color","#999"),setTimeout(function(){$(".math").each(function(t,e){$(this).find("span").last().css("color","#fff")})}),setTimeout(function(){$(".toc a[target='_blank']").attr("target",""),$("a.reversefootnote,a.footnote").attr("target","")},500)},html_line:function(){function t(){$(".CopyToClipboard").each(function(){var t=new ZeroClipboard.Client;t.setHandCursor(!0),t.addEventListener("load",function(t){}),t.addEventListener("mouseOver",function(t){var e=t.movie.parentNode.parentNode.parentNode.parentNode.nextSibling.innerHTML;e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),t.setText(e)}),t.addEventListener("complete",function(t,e){alert("代码已经复制到你的剪贴板。")}),t.glue(this,this.parentNode)})}$(".article_content pre").each(function(){var t=$(this);try{if(t.attr("class").indexOf("brush:")!=-1){var e=t.attr("class").split(";")[0].split(":")[1];t.attr("name","code"),t.attr("class",e)}t.attr("class")&&t.attr("name","code")}catch(o){}}),$(".article_content textarea[name=code]").each(function(){var t=$(this);t.attr("class").indexOf(":")!=-1&&t.attr("class",t.attr("class").split(":")[0])}),$(".highlighter").each(function(t,e){hljs.highlightBlock(e),hljs.lineNumbersBlock(e)}),window.clipboardData||setTimeout(t,1e3)}},s=$(".markdown_views")[0];s?(a.markdown_line(),/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&window.csdn.setSafariCodestyle()):a.html_line(),$(document).on("click",".input-mod",function(){$(".select-option").show(),$(".select-button").removeClass("rotate0").addClass("rotate180")}),$(document).on("input porpertychange",".private-input",function(){n(),$(this).val().length>120&&$(this).val($(this).val().substr(0,120)),$(".textarea-box .number").text(120-$(this).val().length),$(this).val().length>0&&$(".private-form").removeClass("no-active").addClass("active")}),$(document).on("click",".select-option li",function(){$(".super-private").height(126),$(".private-content .other").hide(),n(),$(".select-active").text($(this).text()).data("index",$(this).data("index")),$(this).data("isinput")?($(".super-private").height(240),$(".private-content .other").show()):$(".private-form").removeClass("no-active").addClass("active"),$(".select-button").addClass("rotate0").removeClass("rotate180"),$(".select-option").fadeOut()}),$(document).on("click",".select-button",function(){"block"===$(".select-option").css("display")?($(".select-option").fadeOut(),$(this).removeClass("rotate180").addClass("rotate0")):($(this).removeClass("rotate0").addClass("rotate180"),$(".select-option").fadeIn()),e.stopPropagation(),e.cancelBubble=!0}),$(document).on("click",".private-close, .close-active",function(){$(".super-private").hide(),$(".mask-dark").hide()}),$(document).on("click",".private-footer .active",function(){var e=$(".select-active").data("index"),o=$(".reason").val();e||alert("请选择原因"),text="text",t(articleId,e,o)})}),$(function(){$("article").find("table").map(function(){$(this).wrap('<div class="table-box" />')})}),!function(t){function e(){var e=navigator.userAgent.toLowerCase();return t.ActiveXObject||"ActiveXObject"in t?"ie":e.indexOf("firefox")>=0?"firefox":e.indexOf("chrome")>=0?"chrome":e.indexOf("opera")>=0?"opera":e.indexOf("safari")>=0?"safari":void 0}var o=t.document,n=function(e,n,i,a,s,c){function l(t,o,i){var a=(t+o)/2;if(i<=0||o-t<c)return a;var s="("+e+":"+a+n+")";return r(s).matches?l(a,o,i-1):l(t,a,i-1)}var r,d,m,p;t.matchMedia?r=t.matchMedia:(d=o.getElementsByTagName("head")[0],m=o.createElement("style"),d.appendChild(m),p=o.createElement("div"),p.className="mediaQueryBinarySearch",p.style.display="none",o.body.appendChild(p),r=function(t){m.sheet.insertRule("@media "+t+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var e="underline"==getComputedStyle(p,null).textDecoration;return m.sheet.deleteRule(0),{matches:e}});var u=l(i,a,s);return p&&(d.removeChild(m),o.body.removeChild(p)),u},i={};i.ie=function(){return t.screen.deviceXDPI/t.screen.logicalXDPI},i.firefox=function(){return t.devicePixelRatio?t.devicePixelRatio:n("min--moz-device-pixel-ratio","",0,10,20,1e-4)},i.opera=function(){return t.outerWidth/t.innerWidth},i.chrome=function(){if(t.devicePixelRatio)return t.devicePixelRatio;var e=o.createElement("div");e.innerHTML="1",e.setAttribute("style","font:100px/1em sans-serif;-webkit-text-size-adjust:none;position: absolute;top:-100%;"),o.body.appendChild(e);var n=1e3/e.clientHeight;return n=Math.round(100*n)/100,o.body.removeChild(e),n},i.safari=function(){return t.outerWidth/t.innerWidth},t.detectZoom=function(){return i[e()]()}}(this),$(function(){function system(){var t=navigator.userAgent.toLowerCase();return t.indexOf("win")>=0?"win":t.indexOf("mac")>=0?"mac":void 0}function round2(number,fractionDigits){with(Math)return round(number*pow(10,fractionDigits))/pow(10,fractionDigits)}function iszoom(t){return"win"==t.system&&1!=t.zoom||("mac"==t.system&&t.zoom%1!=0&&t.zoom%2!=0||void 0)}function keyUpEvent(t){var e={win:{add:187,minus:189,origin:48},mac:{add:187,minus:189,origin:48}},o=e[system()];if(t.ctrlKey||t.metaKey)if(t.keyCode==o.add||t.keyCode==o.minus){var n={zoom:round2(detectZoom(),2),system:system()};LeftPopShow(iszoom(n),leftPopRendering,RenderData)}else t.keyCode!=o.add&&t.keyCode!=o.origin||BOXDOM.animate(CLOSEANI,2e3)}function keydownEvent(t){setTimeout(keyUpEvent,300,t)}function setStorage(t,e){return localStorage.setItem(t,e)}function getStorage(t){return localStorage.getItem(t)}function addStyles(t){var e=document.createElement("style");e.type="text/css",e.innerHTML=[".leftPop{width:330px;position: fixed;font-size: 12px;","box-shadow: 0 4px 8px 0 rgba(0,0,0,0.10);padding:16px 40px 16px 16px;z-index: 100;","}",".leftPop .leftPop-close{position: absolute;right: 20px;"+t,"cursor: pointer;","}"].join(""),document.getElementsByTagName("head")[0].appendChild(e)}function leftPopRendering(t){var e=$(".leftPop");if(e.length>0)return e.stop(!0,!1).animate(t.animate,t.animateTime),!1;var o='<svg t="1536830466687" class="icon leftPop-close" viewBox="0 0 1024 1024" version="1.1" ><title>不再显示</title><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="" p-id="15859"></path></svg>';e=$('<div class="leftPop">'+o+"</div>"),addStyles(t.closeColor),e.append(t.template).css(t.style),e.appendTo($("body")).delay(2e3).animate(t.animate,t.animateTime),BOXDOM=e,$(".leftPop-close").on("click",function(){e.stop(!0,!1).animate(t.closeAnimate,t.animateTime),setStorage("leftPop",0)})}function LeftPopShow(t,e,o){var n=getStorage("leftPop");t&&null==n?e(o):BOXDOM.stop(!0,!1).animate(o.closeAnimate,o.animateTime)}function ChangeRatio(){var t=0,e=window.screen,o=navigator.userAgent.toLowerCase();return void 0!==window.devicePixelRatio?t=window.devicePixelRatio:~o.indexOf("msie")?e.deviceXDPI&&e.logicalXDPI&&(t=e.deviceXDPI/e.logicalXDPI):void 0!==window.outerWidth&&void 0!==window.innerWidth&&(t=window.outerWidth/window.innerWidth),t&&(t=Math.round(100*t)),t}var zoomData={zoom:round2(detectZoom(),2),system:system()},BOXDOM=$("leftPop");CLOSEANI={right:"-100%"};var events={win:{even:"keyup",fun:keyUpEvent},mac:{even:"keydown",fun:keydownEvent}};$(window).on(events[system()].even,events[system()].fun);var RenderData={template:"<span>你的浏览器目前处于缩放状态，页面可能会出现错位现象，建议100%大小显示。</span>",style:{right:"-100%","background-color":"#EBF5FD",top:"100px","border-left":"4px solid #70B8F0"},closeColor:"fill:#70B8F0;",animate:{right:0},closeAnimate:CLOSEANI,animateTime:2e3};window.onresize=function(){100==ChangeRatio()?BOXDOM.animate(CLOSEANI,2e3):LeftPopShow(iszoom(zoomData),leftPopRendering,RenderData)},LeftPopShow(iszoom(zoomData),leftPopRendering,RenderData)});